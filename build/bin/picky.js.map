{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 1a95313df32491edf162","webpack:///./src/ts/ColourPicker.ts","webpack:///./src/ts/popup/Popup.ts","webpack:///./src/ts/utils/dom/element/Find.ts","webpack:///./src/ts/utils/string/StringUtils.ts","webpack:///./src/ts/App.ts","webpack:///./src/ts/popup/hue-pane/HuePane.ts","webpack:///./src/ts/popup/svg/CreateGradientElement.ts","webpack:///./src/ts/popup/svg/SetGradientDirection.ts","webpack:///./src/ts/popup/svg/FillGradient.ts","webpack:///./src/ts/popup/svg/CreateColourRect.ts","webpack:///./src/ts/popup/hue-pane/Interactions.ts","webpack:///./src/ts/popup/hue-pane/GetHueAtCursor.ts","webpack:///./src/ts/utils/math/Clamp.ts","webpack:///./src/ts/utils/dom/style/PreventSelections.ts","webpack:///./src/ts/utils/UniqueId.ts","webpack:///./src/ts/utils/dom/style/FillContainer.ts","webpack:///./src/ts/utils/dom/style/Css.ts","webpack:///./src/ts/popup/tone-pane/TonePane.ts","webpack:///./src/ts/popup/tone-pane/Interactions.ts","webpack:///./src/ts/popup/tone-pane/GetColourAtCursor.ts","webpack:///./src/ts/popup/swatch/Swatch.ts","webpack:///./src/ts/popup/text-input/TextInput.ts","webpack:///./src/ts/popup/text-input/Interaction.ts","webpack:///./src/ts/utils/dom/style/ShowElement.ts","webpack:///./src/ts/toggle/Toggle.ts","webpack:///./src/ts/toggle/Interactions.ts","webpack:///./src/ts/utils/dom/interaction/ClickOutside.ts","webpack:///./src/ts/utils/colour/ColourPalette.ts","webpack:///./src/ts/utils/colour/HslToRgb.ts","webpack:///./src/ts/utils/colour/RgbToString.ts","webpack:///./src/ts/utils/colour/Validator.ts","webpack:///./src/ts/utils/colour/RgbToHsl.ts","webpack:///./src/ts/events/Events.ts","webpack:///./~/signals/dist/signals.js","webpack:///./src/ts/state/State.ts"],"names":[],"mappings":"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AAW,GAAG,IAAI,OAAO,CAAC,MAAM,EAAE,CAAC;KAC5C,CAAC;KACL,aAAC;AAAD,EAAC;AApBY,eAAM,SAoBlB;;;;;;;ACxBD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB,qBAAoB,EAAE;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,qBAAoB,cAAc;AAClC;AACA;AACA;AACA,UAAS;;AAET;AACA,qBAAoB,QAAQ;AAC5B;AACA;AACA;AACA,UAAS;;AAET;AACA,qBAAoB,QAAQ;AAC5B;AACA;AACA;AACA,UAAS;;AAET;AACA,qBAAoB,SAAS;AAC7B;AACA;AACA;AACA,UAAS;;AAET;AACA,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA,gEAA+D,GAAG,wCAAwC,GAAG;AAC7G;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,SAAS;AAC5B,oBAAmB,QAAQ;AAC3B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,qBAAoB;AACpB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAS;;AAET;AACA,oBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA,iBAAgB,KAAK,EAAE;AACvB;AACA,UAAS;;AAET;AACA,oBAAmB,SAAS;AAC5B,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA,oBAAmB,SAAS;AAC5B,oBAAmB,OAAO;AAC1B,qBAAoB,QAAQ;AAC5B;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA,oBAAmB,SAAS;AAC5B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,qBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA,oBAAmB,SAAS;AAC5B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,qBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA,oBAAmB,SAAS;AAC5B,oBAAmB,OAAO;AAC1B,qBAAoB,SAAS;AAC7B;AACA;AACA;;AAEA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA,oBAAmB,KAAK;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,+CAA8C;AAC9C,0CAAyC;;AAEzC;AACA;AACA,iBAAgB,KAAK,EAAE;AACvB,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA,cAAmD;AACnD,wDAA4B,gBAAgB,EAAE;AAC9C,MAAK,2DAA2D;AAChE;AACA,MAAK,OAAO;AACZ;AACA;AACA;AACA;;AAEA,EAAC;;;;;;;;AC1bD;KAKI,eAAoB,GAAU,EAAU,OAAiB;SAArC,QAAG,GAAH,GAAG,CAAO;SAAU,YAAO,GAAP,OAAO,CAAU;KAGzD,CAAC;KACL,YAAC;AAAD,EAAC;AATY,cAAK,QASjB","file":"picky.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Picky\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Picky\"] = factory();\n\telse\n\t\troot[\"Picky\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1a95313df32491edf162\n **/","/// <reference path=\"../../typings/index.d.ts\" />\r\n\r\nimport {IOptions} from 'picky';\r\nimport * as picky from 'picky';\r\nimport {Popup} from \"./popup/Popup\";\r\nimport {Toggle} from \"./toggle/Toggle\";\r\nimport App from \"./App\";\r\nimport {getUniqueId} from \"./utils/UniqueId\";\r\nimport {ColourPalette} from \"./utils/colour/ColourPalette\";\r\nimport {Events} from \"./events/Events\";\r\nimport {State} from \"./state/State\";\r\n\r\nexport class ColourPicker\r\n{\r\n    iid: string;\r\n    element: HTMLElement;\r\n\r\n    constructor(options: IOptions)\r\n    {\r\n        //console.log('new picky!');\r\n\r\n        //  set up this instance\r\n\r\n        this.setup(options);\r\n    }\r\n\r\n    \r\n    \r\n    /**\r\n     * setup a new instance\r\n     */\r\n    setup(options: IOptions)\r\n    {\r\n        //  generate a unique ID for this instance\r\n\r\n        this.iid = getUniqueId('picky-');\r\n\r\n        //  create class instances for our various colour picker components\r\n        \r\n        App.state = new State(this.iid, options);\r\n        App.events = new Events(this.iid, options);\r\n        App.palette = new ColourPalette(this.iid, options);\r\n        App.popup = new Popup(this.iid, options);\r\n        App.toggle = new Toggle(this.iid, options);\r\n        \r\n        //  initialise instances\r\n        \r\n        App.events.setup();\r\n        App.palette.setup();\r\n        App.toggle.setup();\r\n        App.popup.setup();\r\n    }\r\n\r\n\r\n    /**\r\n     * shortcut to properties for external access\r\n     * @returns {picky.Events}\r\n     */\r\n    get onUpdate() : Signal\r\n    {\r\n        return App.events.updateColour;\r\n    }\r\n    get hex() : string\r\n    {\r\n        return App.palette.getHexString();\r\n    }\r\n\r\n\r\n    /**\r\n     * destroy this instance\r\n     */\r\n    destroy()\r\n    {\r\n\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/ColourPicker.ts\n **/","import {IOptions} from \"picky\";\r\nimport {findOne} from \"../utils/dom/element/Find\";\r\nimport App from \"../App\";\r\nimport {HuePane} from \"./hue-pane/HuePane\";\r\nimport {TonePane} from \"./tone-pane/TonePane\";\r\nimport {Swatch} from \"./swatch/Swatch\";\r\nimport {TextInput} from \"./text-input/TextInput\";\r\nimport {toggleClass, removeClass} from \"../utils/dom/style/Css\";\r\nimport {addClass} from \"../utils/dom/style/Css\";\r\nimport {hideElement} from '../utils/dom/style/ShowElement';\r\n\r\n\r\nexport class Popup\r\n{\r\n    element: HTMLElement;\r\n    \r\n    constructor(private iid:string, private options: IOptions)\r\n    {\r\n        \r\n    }\r\n    \r\n    \r\n    /**\r\n     * set up the colour picker popup;\r\n     * this displays the colour selection to pick from\r\n     */\r\n    setup()\r\n    {\r\n        //  create the popup element\r\n        \r\n        this.element = this.getElement();\r\n\r\n        //  hide the popup element; sometimes it gets created before the CSS kicks in, and this will prevent a flicker of colour\r\n\r\n        hideElement(this.element);\r\n        \r\n        //  set iid property on element\r\n\r\n        this.element.dataset['iid'] = this.iid;\r\n        \r\n        //  create the hue and tint colour panes class instances\r\n        \r\n        App.swatch = new Swatch(this.iid, this.options);\r\n        App.textInput = new TextInput(this.iid, this.options);\r\n        App.tonePane = new TonePane(this.iid, this.options);\r\n        App.huePane = new HuePane(this.iid, this.options);\r\n\r\n        //  setup colour panes\r\n        \r\n        App.swatch.setup();\r\n        App.textInput.setup();\r\n        App.tonePane.setup();\r\n        App.huePane.setup();\r\n\r\n        //  add interaction listeners to the element\r\n\r\n        this.listen();\r\n    }\r\n\r\n\r\n    /**\r\n     * get the element for the popup\r\n     */\r\n    getElement()\r\n    {\r\n        var element: HTMLElement;\r\n\r\n        //  if the user has provided a selector for the popup,\r\n        //  let's try to find the element\r\n        //  and use it if we find something\r\n        \r\n        element = findOne(this.options.elements.popup);\r\n        \r\n        if (element) return element;\r\n        \r\n        //  if nothing's found then let's create a new popup element inside the toggle button\r\n        \r\n        return this.createElement();\r\n    }\r\n\r\n\r\n    /**\r\n     * create the popup element with the targeted toggle element\r\n     */\r\n    createElement() : HTMLElement\r\n    {\r\n        var element: HTMLElement;\r\n\r\n        //  create a new popup element\r\n\r\n        element = document.createElement('div');\r\n        \r\n        //  add class to the popup\r\n        \r\n        addClass(element, 'picky-popup');\r\n\r\n        //  place our new element on the page;\r\n        //  this code inserts it after the toggle element\r\n\r\n        App.toggle.element.parentNode.insertBefore(element, App.toggle.element.nextSibling);\r\n        \r\n        return element;\r\n    }\r\n\r\n\r\n    /**\r\n     * listen for open-popup events\r\n     */\r\n    listen()\r\n    {\r\n        App.events.togglePopup.add(this.onTogglePopup);\r\n    }\r\n\r\n\r\n    /**\r\n     * toggle popup visibility\r\n     */\r\n    onTogglePopup = (iid: string) =>\r\n    {\r\n        //  if the iids of the event doesn't match this popup,\r\n        //  the user has opened a different instance -\r\n        //  let's close this instance's popup\r\n\r\n        if (iid !== this.iid)\r\n        {\r\n            removeClass(this.element, 'open');\r\n\r\n            return;\r\n        }\r\n\r\n        //  if they do match, check the app's \"open\" status\r\n        //  and set the class accordingly\r\n\r\n        toggleClass(this.element, 'open', App.state.open);\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/Popup.ts\n **/","import {trimString}  from \"../../string/StringUtils\";\r\n\r\n/**\r\n * find an element by class or id\r\n * (or identify if we've been given a jQuery object)\r\n * @param selector\r\n */\r\nexport function findAny(selector: any) : HTMLElement | NodeList\r\n{\r\n    //  check we've been given a valid selector\r\n\r\n    if ( ! selector) return null;\r\n\r\n    //  check if we've been given an id or a class\r\n\r\n    if (~selector.indexOf('#')) return findById(selector);\r\n    if (~selector.indexOf('.')) return findByClass(selector);\r\n\r\n    return null;\r\n}\r\n\r\n\r\n/**\r\n * find the first matching element\r\n * @param selector\r\n */\r\nexport function findOne(selector: any) : HTMLElement\r\n{\r\n    var result: HTMLElement | NodeList;\r\n\r\n    //  find the element(s) with the matching selector\r\n\r\n    result = findAny(selector);\r\n\r\n    //  if no matching element is found then return null\r\n\r\n    if ( ! result) return null;\r\n\r\n    //  if the result is a single element then return it\r\n\r\n    if (result instanceof HTMLElement) return result;\r\n\r\n    //  otherwise return the first matching instance\r\n\r\n    return <HTMLElement>(<NodeList>result).item(0);\r\n}\r\n\r\n\r\n/**\r\n * find elements by class\r\n */\r\nexport function findByClass(className: string) : NodeList\r\n{\r\n    return <NodeList>document.getElementsByClassName( trimString(className, 1));\r\n}\r\n\r\n\r\n/**\r\n * find an element by its id\r\n */\r\nexport function findById(id: string) : HTMLElement\r\n{\r\n    return document.getElementById( trimString(id, 1));\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/dom/element/Find.ts\n **/","/**\r\n * trim a string\r\n * @param input\r\n * @param start\r\n * @param end\r\n * @returns {string}\r\n */\r\nexport function trimString(input: string, start?: number, end?: number) : string\r\n{\r\n    var output: string,\r\n        split: string[];\r\n\r\n    //  trimString trailing spaces\r\n\r\n    output = input.trim();\r\n\r\n    //  do we want to remove any characters from the string?\r\n\r\n    if ( ! start && ! end) return output;\r\n\r\n    //  if so, split string into an array of characters\r\n\r\n    split = output.split('');\r\n\r\n    //  remove N characters from the start and end\r\n\r\n    split.splice(0, start);\r\n    split.splice(-1, end);\r\n\r\n    //  and return the re-joined string\r\n\r\n    return split.join('');\r\n}\r\n\r\n\r\n/**\r\n * add padding characters to the start of a string\r\n * until it reaches the required length\r\n * @param input\r\n * @param prefix\r\n * @param length\r\n */\r\nexport function prefixString(input: string, prefix: string, length: number = input.length + 1)\r\n{\r\n    var characters: string[];\r\n\r\n    //  split string into array\r\n\r\n    characters = input.split('');\r\n\r\n    //  add prefixes until we reach the required length\r\n\r\n    while(characters.length < length)\r\n    {\r\n        characters.unshift(prefix);\r\n    }\r\n    \r\n    //  once we've reached the required length,\r\n    //  join and return the string\r\n    \r\n    return characters.join('');\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/string/StringUtils.ts\n **/","import * as picky from 'picky';\r\n\r\nexport default class App\r\n{\r\n    static toggle: picky.Toggle;\r\n    static state: picky.State;\r\n    static events: picky.Events;\r\n    static popup: picky.Popup;\r\n    static palette: picky.ColourPalette;\r\n    static huePane: picky.HuePane;\r\n    static tonePane: picky.TonePane;\r\n    static swatch: picky.Swatch;\r\n    static textInput: picky.TextInput;\r\n    \r\n    constructor()\r\n    {\r\n        \r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/App.ts\n **/","import {IOptions, IGradientStop} from \"picky\";\r\n\r\nimport {findOne} from \"../../utils/dom/element/Find\";\r\nimport App from \"../../App\";\r\nimport CreateGradientElement from \"../svg/CreateGradientElement\";\r\nimport SetGradientDirection from \"../svg/SetGradientDirection\";\r\nimport FillGradient from \"../svg/FillGradient\";\r\nimport CreateColourRect from \"../svg/CreateColourRect\";\r\nimport {Interactions} from './Interactions';\r\nimport {getUniqueId} from \"../../utils/UniqueId\";\r\nimport {fillContainer} from \"../../utils/dom/style/FillContainer\";\r\nimport {addClass} from \"../../utils/dom/style/Css\";\r\n\r\nexport class HuePane\r\n{\r\n    element: SVGSVGElement;\r\n\r\n    constructor(private iid:string, private options: IOptions)\r\n    {\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * set up the toggle button;\r\n     * this is what the user will click to open/close the colour picker popup\r\n     */\r\n    setup()\r\n    {\r\n        //  get the specified element for the toggle button\r\n\r\n        this.element = this.createGradientElement();\r\n\r\n        //  create rectangle element and fill with the gradient\r\n\r\n        CreateColourRect(this.element, this.drawGradient());\r\n        \r\n        //  add interaction listeners to the element\r\n        \r\n        new Interactions(this.element).listen();\r\n    }\r\n    \r\n    \r\n    /**\r\n     * create the element for the hue pane\r\n     */\r\n    createGradientElement() : SVGSVGElement\r\n    {\r\n        var element: SVGSVGElement;\r\n\r\n        //  create the new element\r\n\r\n        element = <SVGSVGElement>document.createElementNS('http://www.w3.org/2000/svg', 'svg');\r\n\r\n        //  add the relevant class\r\n        \r\n        addClass(element, 'picky-hue-pane__palette');\r\n        \r\n        //  make the element fill its container\r\n\r\n        fillContainer(element);\r\n        \r\n        //  append the new element to the popup element\r\n        \r\n        this.getContainer().appendChild(element);\r\n        \r\n        //  return the new element\r\n        \r\n        return element;\r\n    }\r\n\r\n\r\n    /**\r\n     * find the container element for the gradient\r\n     */\r\n    getContainer() : HTMLElement\r\n    {\r\n        return findOne(this.options.elements.hue_pane);\r\n    }\r\n\r\n\r\n    /**\r\n     * draw a rainbow gradient in the hue panel\r\n     */\r\n    drawGradient() : string\r\n    {\r\n        var id: string,\r\n            gradient: SVGGradientElement,\r\n            stops: IGradientStop[];\r\n\r\n        //  create a unique id for the gradient\r\n\r\n        id = getUniqueId('picky-svg-gradient-');\r\n        \r\n        //  set the colours we're going to use in the gradient\r\n\r\n        stops = \r\n            [\r\n                {\r\n                    colour: '#ff0000',\r\n                    offset: '0%'\r\n                },\r\n                {\r\n                    colour: '#ff00ff',\r\n                    offset: '16%'\r\n                },\r\n                {\r\n                    colour: '#0000ff',\r\n                    offset: '33%'\r\n                },\r\n                {\r\n                    colour: '#00ffff',\r\n                    offset: '50%'\r\n                },\r\n                {\r\n                    colour: '#00ff00',\r\n                    offset: '67%'\r\n                },\r\n                {\r\n                    colour: '#ffff00',\r\n                    offset: '84%'\r\n                },\r\n                {\r\n                    colour: '#ff0000',\r\n                    offset: '100%'\r\n                }\r\n            ];\r\n        \r\n        //  create a gradient within the svg element\r\n\r\n        gradient = CreateGradientElement(this.element, id);\r\n\r\n        //  set the gradient direction\r\n\r\n        SetGradientDirection(gradient, ['0', '0', '0', '100%']);\r\n\r\n        //  populate the gradient with the required colours\r\n\r\n        FillGradient(gradient, stops);\r\n\r\n        //  return the gradient's id\r\n\r\n        return id;\r\n    }\r\n\r\n\r\n    /**\r\n     * set the currently selected hue\r\n     * @param hue\r\n     */\r\n    setHue(hue: number)\r\n    {\r\n        //TODO  move the selection indicator to the current hue position\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/hue-pane/HuePane.ts\n **/","/**\r\n * create and append an SVG gradient\r\n * @param svg\r\n */\r\nexport default (svg: SVGSVGElement, id: string, type: string = 'linearGradient') =>\r\n{\r\n    var svg_ns: string,\r\n        defs: SVGDefsElement,\r\n        gradient: SVGGradientElement;\r\n    \r\n    //  get SVG namespace\r\n\r\n    svg_ns = svg.namespaceURI;\r\n    \r\n    //  create and append defs element\r\n    \r\n    defs = <SVGDefsElement>(svg.querySelector('defs') || svg.insertBefore( document.createElementNS(svg_ns, 'defs'), svg.firstChild));\r\n    \r\n    //  create the gradient\r\n\r\n    gradient = <SVGGradientElement>document.createElementNS(svg_ns, type);\r\n    \r\n    //  add an id (we need this to set the gradient as the fill of an element later)\r\n    \r\n    gradient.setAttribute('id', id);\r\n\r\n    //  set direction\r\n\r\n    gradient.setAttribute('x1', '0%');\r\n    gradient.setAttribute('y1', '0%');\r\n    gradient.setAttribute('x2', '0%');\r\n    gradient.setAttribute('y2', '100%');\r\n\r\n    //  append the gradient to the SVG defs\r\n    \r\n    defs.appendChild(gradient);\r\n\r\n    //  return the gradient\r\n    \r\n    return gradient;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/svg/CreateGradientElement.ts\n **/","/**\r\n * create and append an SVG gradient\r\n * @param svg\r\n */\r\nexport default (gradient: SVGGradientElement, points: string[]) =>\r\n{\r\n    //  set direction\r\n\r\n    gradient.setAttribute('x1', points[0]);\r\n    gradient.setAttribute('y1', points[1]);\r\n    gradient.setAttribute('x2', points[2]);\r\n    gradient.setAttribute('y2', points[3]);\r\n\r\n    //  return the gradient\r\n\r\n    return gradient;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/svg/SetGradientDirection.ts\n **/","import {IGradientStop} from \"picky\";\r\n\r\n/**\r\n * populate a gradient with the given colour stops\r\n * @param gradient\r\n * @param stops\r\n */\r\nexport default (gradient: SVGGradientElement, stops: IGradientStop[]) =>\r\n{\r\n    var svg_ns: string,\r\n        stop: SVGStopElement;\r\n\r\n    //  get SVG namespace\r\n\r\n    svg_ns = gradient.parentElement.namespaceURI;\r\n\r\n    for (var i: number = 0; i < stops.length; i ++)\r\n    {\r\n        //  create a new stop element\r\n\r\n        stop = <SVGStopElement>document.createElementNS(svg_ns, 'stop');\r\n\r\n        //  set the stop's colour and position within the gradient\r\n\r\n        stop.setAttribute('offset', stops[i].offset);\r\n        stop.setAttribute('stop-color', stops[i].colour);\r\n        stop.setAttribute('stop-opacity', stops[i].opacity || '1');\r\n\r\n        //  append the stop to the gradient\r\n\r\n        gradient.appendChild(stop);\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/svg/FillGradient.ts\n **/","/**\r\n * create and append an SVG gradient\r\n * @param svg\r\n */\r\nexport default (svg: SVGSVGElement, gradient_id: string) =>\r\n{\r\n    var rect: SVGRectElement;\r\n\r\n    //  create the new rect element\r\n\r\n    rect = <SVGRectElement>document.createElementNS(svg.namespaceURI, 'rect');\r\n\r\n    //  make it fill the container\r\n\r\n    rect.setAttribute('x', '0');\r\n    rect.setAttribute('y', '0');\r\n    rect.setAttribute('width', '100%');\r\n    rect.setAttribute('height', '100%');\r\n\r\n    //  fill it with the gradient\r\n\r\n    rect.setAttribute('fill', 'url(#' + gradient_id + ')');\r\n\r\n    //  add the rect to the page\r\n\r\n    svg.appendChild(rect);\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/svg/CreateColourRect.ts\n **/","import App from \"../../App\";\r\nimport {getHueAtCursor} from \"./GetHueAtCursor\";\r\nimport {preventSelections} from \"../../utils/dom/style/PreventSelections\";\r\n\r\nexport class Interactions\r\n{\r\n    constructor(private element: SVGSVGElement)\r\n    {\r\n        \r\n    }\r\n\r\n\r\n    /**\r\n     * listen for interactions\r\n     */\r\n    listen()\r\n    {\r\n        this.element.addEventListener('mousedown', this.onMouseDown);\r\n    }\r\n\r\n\r\n    /**\r\n     * when the user presses the mouse down,\r\n     * get the hue at the current position\r\n     * and start listening for further interactions\r\n     */\r\n    onMouseDown = () =>\r\n    {\r\n        //  prevent any dragging selections elsewhere on the page\r\n        \r\n        preventSelections();\r\n\r\n        //  flag that we're dragging\r\n        \r\n        App.state.dragging = true;\r\n        \r\n        //  add mouse move and mouse-up listeners to let us select colours\r\n        //  as the user moves their mouse\r\n        \r\n        document.addEventListener('mousemove', this.onMouseMove);\r\n        document.addEventListener('mouseup', this.onMouseUp);\r\n    };\r\n\r\n\r\n    /**\r\n     * when the user moves the mouse,\r\n     * get the hue under the cursor\r\n     */\r\n    onMouseMove = (event: MouseEvent) =>\r\n    {\r\n        var hue: number;\r\n        \r\n        //  get the current hue,\r\n        //  based on the user's mouse position\r\n        \r\n        hue = getHueAtCursor(this.element, event);\r\n\r\n        //  set the new hue\r\n\r\n        App.palette.setHue(hue);\r\n\r\n        //  dispatch a colour update event\r\n\r\n        App.events.updateColour.dispatch( App.palette.getHexString());\r\n    };\r\n\r\n\r\n    /**\r\n     * when the user releases the mouse,\r\n     * stop tracking the hue under the cursor\r\n     */\r\n    onMouseUp = (event: MouseEvent) =>\r\n    {\r\n        //  allow selections\r\n\r\n        preventSelections(false);\r\n\r\n        //  trigger the mouse move event to get the colour under the cursor\r\n\r\n        this.onMouseMove(event);\r\n        \r\n        //  flag that we've stopped dragging\r\n\r\n        App.state.dragging = false;\r\n\r\n        //  remove event listeners\r\n\r\n        document.removeEventListener('mousemove', this.onMouseMove);\r\n        document.removeEventListener('mouseup', this.onMouseUp);\r\n    };\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/hue-pane/Interactions.ts\n **/","import App from \"../../App\";\r\nimport {clamp} from \"../../utils/math/Clamp\";\r\n\r\n/**\r\n * get the colour under the user's cursor\r\n * @param event\r\n */\r\nexport function getHueAtCursor(target: Element, event: MouseEvent) : number\r\n{\r\n    var client_rect: ClientRect,\r\n        mouse_offset: number,\r\n        hue: number;\r\n\r\n    //  assume y offset is the one we want for now\r\n    //TODO  add optional X offset so we could have a horizontal hue slider if needed\r\n\r\n    //  get element bounding rect\r\n\r\n    client_rect = target.getBoundingClientRect();\r\n\r\n    //  calculate the offset of the mouse within the clicked element\r\n\r\n    mouse_offset = event.pageY - client_rect.top;\r\n\r\n    //  limit off set to between zero - rect height\r\n\r\n    mouse_offset = clamp(mouse_offset, 0, client_rect.height);\r\n    \r\n    //  and translate to hue\r\n    \r\n    hue = 1 - (mouse_offset / client_rect.height);\r\n    \r\n    //  return the hue\r\n    \r\n    return hue;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/hue-pane/GetHueAtCursor.ts\n **/","/**\r\n * clamp a number between min and max values\r\n * @param n\r\n * @param min\r\n * @param max\r\n * @returns {number}\r\n */\r\nexport function clamp(n: number, min: number, max: number)\r\n{\r\n    return Math.max(min, Math.min(n, max));\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/math/Clamp.ts\n **/","export function preventSelections(preventSelections: boolean = true)\r\n{\r\n    var styles: string[],\r\n        value: string;\r\n\r\n    //  create a list of all the non-editable styles\r\n\r\n    styles =\r\n        [\r\n            'webkitTouchCallout',\r\n            'webkitUserSelect',\r\n            'mozUserSelect',\r\n            'msUserSelect',\r\n            'userSelect'\r\n        ];\r\n\r\n    //  get the value we want to set\r\n\r\n    value = preventSelections === true ? 'none' : '';\r\n\r\n    //  add or remove all styles\r\n\r\n    for (var i: number = 0; i < styles.length; i++)\r\n    {\r\n        document.body.style[ <any>styles[i]] = value;\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/dom/style/PreventSelections.ts\n **/","export function getUniqueId(prefix: string = '') : string\r\n{\r\n    return prefix + Math.random() * 10;\r\n    // return prefix + new Date().getTime();\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/UniqueId.ts\n **/","/**\r\n * make an element fill its container\r\n * @param element\r\n */\r\nexport function fillContainer(element: HTMLElement | any)\r\n{\r\n    element.style.position = 'absolute';\r\n    element.style.top = '0px';\r\n    element.style.left = '0px';\r\n    element.style.width = '100%';\r\n    element.style.height = '100%';\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/dom/style/FillContainer.ts\n **/","/**\r\n * add a CSS class to an element\r\n * @param element\r\n * @param className\r\n */\r\nexport function addClass(element: Element, className: string)\r\n{\r\n    //  check we have a valid element\r\n\r\n    if ( ! element) return false;\r\n\r\n    //  add class name to list\r\n\r\n    element.classList.add(className);\r\n}\r\n\r\n\r\n/**\r\n * remove a CSS class from an element\r\n * @param element\r\n * @param className\r\n * @returns {boolean}\r\n */\r\nexport function removeClass(element: HTMLElement, className: string)\r\n{\r\n    //  check we have a valid element\r\n\r\n    if ( ! element) return false;\r\n\r\n    //  remove class name from list\r\n\r\n    element.classList.remove(className);\r\n}\r\n\r\n\r\n/**\r\n * toggle the presence of a CSS class on an element\r\n * @param element\r\n * @param className\r\n * @param toggle\r\n */\r\nexport function toggleClass(element: HTMLElement, className: string, add?: boolean) : boolean\r\n{\r\n    var has_class: boolean;\r\n\r\n    //  check whether a manual override of toggle value has been supplied\r\n\r\n    if (add !== undefined)\r\n    {\r\n        //  if so, add or remove the class according to the user's request\r\n\r\n        add ? addClass(element, className) : removeClass(element, className);\r\n\r\n        //  stop here\r\n\r\n        return;\r\n    }\r\n\r\n    //  does the element currently have this class?\r\n\r\n    has_class = hasClass(element, className);\r\n\r\n    //  add or remove the class as appropriate\r\n    \r\n    if (has_class === false)\r\n    {\r\n        addClass(element, className);\r\n    }\r\n    else\r\n    {\r\n        removeClass(element, className)\r\n    }\r\n    \r\n    //  return the new state\r\n    \r\n    return ! has_class;\r\n}\r\n\r\n\r\n/**\r\n * check if an element already has a particular class name\r\n * @param element\r\n * @param className\r\n * @returns {any}\r\n */\r\nexport function hasClass(element: HTMLElement, className: string) : boolean\r\n{\r\n    //  check we have a valid element\r\n\r\n    if ( ! element) return false;\r\n\r\n    //  check whether the element's class list contains the provided class name\r\n\r\n    return element.classList.contains(className);\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/dom/style/Css.ts\n **/","import {IOptions, IGradientStop} from \"picky\";\r\n\r\nimport {} from \"../../utils/dom/element/Find\";\r\nimport App from \"../../App\";\r\nimport CreateGradientElement from \"../svg/CreateGradientElement\";\r\nimport SetGradientDirection from \"../svg/SetGradientDirection\";\r\nimport FillGradient from \"../svg/FillGradient\";\r\nimport CreateColourRect from \"../svg/CreateColourRect\";\r\nimport {Interactions} from './Interactions';\r\nimport {getUniqueId} from \"../../utils/UniqueId\";\r\nimport {IHSL} from \"picky\";\r\nimport {ColourPalette} from \"picky\";\r\nimport {findOne} from \"../../utils/dom/element/Find\";\r\nimport {fillContainer} from \"../../utils/dom/style/FillContainer\";\r\nimport {addClass} from \"../../utils/dom/style/Css\";\r\n\r\nexport class TonePane\r\n{\r\n    element: SVGSVGElement;\r\n\r\n    constructor(private iid:string, private options: IOptions)\r\n    {\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * set up the toggle button;\r\n     * this is what the user will click to open/close the colour picker popup\r\n     */\r\n    setup()\r\n    {\r\n        //  get the specified element for the toggle button\r\n\r\n        this.element = this.createGradientElement();\r\n\r\n        //  create rectangle element and fill with the gradient\r\n\r\n        CreateColourRect(this.element, this.drawGradient('#ffffff', ['0', '0', '100%', '0']));\r\n        CreateColourRect(this.element, this.drawGradient('#000000', ['0', '100%', '0', '0']));\r\n\r\n        //  add interaction listeners to the element\r\n\r\n        new Interactions(this.iid, this.element).listen();\r\n\r\n        //  listen for signals\r\n\r\n        App.events.updateColour.add(this.onColourSet);\r\n    }\r\n\r\n\r\n    /**\r\n     * create the element for the tone pane\r\n     */\r\n    createGradientElement() : SVGSVGElement\r\n    {\r\n        var element: SVGSVGElement;\r\n\r\n        //  create the new element\r\n\r\n        element = <SVGSVGElement>document.createElementNS('http://www.w3.org/2000/svg', 'svg');\r\n\r\n        //  add the relevant class\r\n\r\n        addClass(element, 'picky-tone-pane__palette');\r\n        \r\n        //  make the element fill its container\r\n\r\n        fillContainer(element);\r\n\r\n        //  append the new element to the popup element\r\n\r\n        this.getContainer().appendChild(element);\r\n\r\n        //  return the new element\r\n\r\n        return element;\r\n    }\r\n\r\n\r\n    /**\r\n     * find the container element for the gradient\r\n     */\r\n    getContainer() : HTMLElement\r\n    {\r\n        return findOne(this.options.elements.tone_pane);\r\n    }\r\n\r\n\r\n    /**\r\n     * draw a gradient in the tone panel\r\n     */\r\n    drawGradient(fill: string, direction: string[]) : string\r\n    {\r\n        var id: string,\r\n            gradient: SVGGradientElement,\r\n            stops: IGradientStop[];\r\n\r\n        //  create a unique id for the gradient\r\n\r\n        id = getUniqueId('picky-svg-gradient-');\r\n\r\n        //  set the colours we're going to use in the gradient\r\n\r\n        stops =\r\n            [\r\n                {\r\n                    colour: fill,\r\n                    offset: '0%'\r\n                },\r\n                {\r\n                    colour: fill,\r\n                    opacity: '0',\r\n                    offset: '100%'\r\n                }\r\n            ];\r\n\r\n        //  create a gradient within the svg element\r\n\r\n        gradient = CreateGradientElement(this.element, id);\r\n\r\n        //  set the gradient direction\r\n\r\n        SetGradientDirection(gradient, direction);\r\n\r\n        //  populate the gradient with the required colours\r\n\r\n        FillGradient(gradient, stops);\r\n\r\n        //  return the gradient's id\r\n\r\n        return id;\r\n    }\r\n\r\n\r\n    /**\r\n     * when the active colour is changed,\r\n     * reflect that colour in the UI\r\n     */\r\n    onColourSet = () =>\r\n    {\r\n        //  the hue is provided\r\n\r\n        this.setHue(App.palette.hsl.hue * 360);\r\n        \r\n        //if (colour.hue) this.setHue(colour.hue);\r\n        // if (colour.saturation) this.setSaturation(colour.saturation);\r\n        // if (colour.lightness) this.setLightness(colour.lightness);\r\n    };\r\n\r\n\r\n    /**\r\n     * set the visible hue in the tone pane element\r\n     * @param hue\r\n     */\r\n    setHue(hue: number)\r\n    {\r\n        this.element.style.backgroundColor = 'hsl(' + hue + ',100%,50%)';\r\n    }\r\n\r\n\r\n    /**\r\n     * set the current saturation\r\n     * @param saturation\r\n     * @param lightness\r\n     */\r\n    setSaturation(saturation: number)\r\n    {\r\n        \r\n    }\r\n\r\n\r\n    /**\r\n     * set the current lightness\r\n     * @param lightness\r\n     */\r\n    setLightness(lightness: number)\r\n    {\r\n        \r\n    }\r\n\r\n\r\n    /**\r\n     * combine H, S and L into a single colour\r\n     */\r\n    getCombinedHSLColour()\r\n    {\r\n        \r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/tone-pane/TonePane.ts\n **/","// import GetHueAtCursor from './GetHueAtCursor';\r\n\r\nimport App from \"../../App\";\r\nimport {preventSelections} from \"../../utils/dom/style/PreventSelections\";\r\nimport {getSaturationAndLightnessAtCursor} from \"./GetColourAtCursor\";\r\nimport {IHSL} from \"picky\";\r\n\r\nexport class Interactions\r\n{\r\n    constructor(private iid: string, private element: SVGSVGElement)\r\n    {\r\n        \r\n    }\r\n\r\n\r\n    /**\r\n     * listen for interactions\r\n     */\r\n    listen()\r\n    {\r\n        this.element.addEventListener('mousedown', this.onMouseDown);\r\n    }\r\n\r\n\r\n    /**\r\n     * when the user presses the mouse down,\r\n     * get the hue at the current position\r\n     * and start listening for further interactions\r\n     */\r\n    onMouseDown = () =>\r\n    {\r\n        //  prevent any dragging selections elsewhere on the page\r\n\r\n        preventSelections();\r\n\r\n        //  flag that we're dragging\r\n\r\n        App.state.dragging = true;\r\n\r\n        //  add mouse move and mouse-up listeners to let us select colours\r\n        //  as the user moves their mouse\r\n\r\n        document.addEventListener('mousemove', this.onMouseMove);\r\n        document.addEventListener('mouseup', this.onMouseUp);\r\n    };\r\n\r\n\r\n    /**\r\n     * when the user moves the mouse,\r\n     * get the hue under the cursor\r\n     */\r\n    onMouseMove = (event: MouseEvent) =>\r\n    {\r\n        var hsl: IHSL;\r\n        \r\n        //  get the current saturation and lightness,\r\n        //  based on the user's mouse position\r\n\r\n        hsl = getSaturationAndLightnessAtCursor(this.element, event);\r\n        \r\n        //  set saturation and lightness in the colour palette\r\n\r\n        App.palette.setSaturation(hsl.saturation);\r\n        App.palette.setLightness(hsl.lightness);\r\n        \r\n        //  dispatch an update event\r\n        \r\n        App.events.updateColour.dispatch( App.palette.getHexString());\r\n    };\r\n\r\n\r\n    /**\r\n     * when the user releases the mouse,\r\n     * stop tracking the hue under the cursor\r\n     */\r\n    onMouseUp = (event: MouseEvent) =>\r\n    {\r\n        //  allow selections\r\n\r\n        preventSelections(false);\r\n\r\n        //  trigger the mouse move event to get the colour under the cursor\r\n\r\n        this.onMouseMove(event);\r\n\r\n        //  flag that we've stopped dragging\r\n\r\n        App.state.dragging = false;\r\n\r\n        //  remove event listeners\r\n\r\n        document.removeEventListener('mousemove', this.onMouseMove);\r\n        document.removeEventListener('mouseup', this.onMouseUp);\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/tone-pane/Interactions.ts\n **/","import App from \"../../App\";\r\nimport {clamp} from \"../../utils/math/Clamp\";\r\nimport {IHSL} from \"picky\";\r\n\r\n/**\r\n * get the colour under the user's cursor\r\n * @param event\r\n */\r\nexport function getSaturationAndLightnessAtCursor(target: Element, event: MouseEvent) : IHSL\r\n{\r\n    var client_rect: ClientRect,\r\n        mouse_offset_x: number,\r\n        mouse_offset_y: number,\r\n        saturation: number,\r\n        lightness: number;\r\n    \r\n    //  assume y offset is the one we want for now\r\n    //TODO  add optional X offset so we could have a horizontal hue slider if needed\r\n    \r\n    //  get element bounding rect\r\n    \r\n    client_rect = target.getBoundingClientRect();\r\n    \r\n    //  calculate the offset of the mouse within the clicked element\r\n\r\n    mouse_offset_x = (event.pageX - client_rect.left) / client_rect.width;\r\n    mouse_offset_y = (event.pageY - client_rect.top) / client_rect.height;\r\n\r\n    //  clamp offsets between 0-1\r\n    //  lightness is a bit tricky because it's affected by both the X and Y axes;\r\n\r\n    saturation = clamp(mouse_offset_x, 0, 1);\r\n    lightness = 0.5 - clamp(mouse_offset_y, 0, 1) * 0.5 + (0.5 - saturation * 0.5);\r\n\r\n    //  return S and L in an object\r\n    \r\n    return { hue: null, saturation: saturation, lightness: lightness };\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/tone-pane/GetColourAtCursor.ts\n **/","import {IOptions} from \"picky\";\r\nimport {findOne} from \"../../utils/dom/element/Find\";\r\nimport App from \"../../App\";\r\n\r\nexport class Swatch\r\n{\r\n    element: HTMLElement;\r\n\r\n    constructor(private iid: string, private options: IOptions)\r\n    {\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * set up the colour swatch instance;\r\n     * this displays the colour that the user has currently selected\r\n     */\r\n    setup()\r\n    {\r\n        //  create the popup element\r\n\r\n        this.element = this.getElement();\r\n        \r\n        //  do we have an element?\r\n        //  if not then the user probably hasn't supplied a selector,\r\n        //  which means we don't need a swatch\r\n\r\n        if ( ! this.element) return;\r\n\r\n        //  listen for signals\r\n\r\n        App.events.updateColour.add(this.onColourSet);\r\n    }\r\n\r\n\r\n    /**\r\n     * find the swatch element, if one exists\r\n     */\r\n    getElement() : HTMLElement\r\n    {\r\n        return findOne(this.options.elements.swatch);\r\n    }\r\n\r\n\r\n    /**\r\n     * when the selected colour changes,\r\n     * display it in the swatch\r\n     */\r\n    onColourSet = () =>\r\n    {\r\n        this.element.style.backgroundColor = App.palette.getHexString();\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/swatch/Swatch.ts\n **/","import {IOptions} from \"picky\";\r\nimport {findOne} from \"../../utils/dom/element/Find\";\r\nimport App from \"../../App\";\r\nimport {Interactions} from \"./Interaction\";\r\n\r\nexport class TextInput\r\n{\r\n    element: HTMLInputElement;\r\n\r\n    constructor(private iid: string, private options: IOptions)\r\n    {\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * set up the colour swatch instance;\r\n     * this displays the colour that the user has currently selected\r\n     */\r\n    setup()\r\n    {\r\n        //  create the popup element\r\n\r\n        this.element = this.getElement();\r\n        \r\n        //  do we have an input element?\r\n        //  if not, stop here\r\n        \r\n        if ( ! this.element) return;\r\n        \r\n        //  add interaction listeners to the element\r\n\r\n        new Interactions(this.element).listen();\r\n\r\n        //  listen for signals\r\n\r\n        App.events.updateColour.add(this.onColourSet);\r\n    }\r\n\r\n\r\n    /**\r\n     * find the swatch element, if one exists\r\n     */\r\n    getElement() : HTMLInputElement\r\n    {\r\n        return <HTMLInputElement>findOne(this.options.elements.text_input);\r\n    }\r\n\r\n\r\n    /**\r\n     * when the selected colour changes,\r\n     * display it in the swatch\r\n     */\r\n    onColourSet = () =>\r\n    {\r\n        this.element.value = App.palette.getHexString();\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/text-input/TextInput.ts\n **/","import App from \"../../App\";\r\n\r\nexport class Interactions\r\n{\r\n    constructor(private element: HTMLInputElement)\r\n    {\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * listen for interactions\r\n     */\r\n    listen()\r\n    {\r\n        this.element.addEventListener('input', this.onContentInput);\r\n    }\r\n\r\n\r\n    /**\r\n     * when the user presses the mouse down,\r\n     * get the hue at the current position\r\n     * and start listening for further interactions\r\n     */\r\n    onContentInput = () =>\r\n    {\r\n        //  set the new hue\r\n\r\n        App.palette.setHexString(this.element.value);\r\n\r\n        //  dispatch a colour update event\r\n\r\n        App.events.updateColour.dispatch( App.palette.getHexString());\r\n    };\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/text-input/Interaction.ts\n **/","/**\r\n * show an element\r\n */\r\nexport function showElement()\r\n{\r\n\r\n}\r\n\r\n\r\n/**\r\n * hide an element\r\n * @param element\r\n */\r\nexport function hideElement(element: HTMLElement)\r\n{\r\n    element.style.display = 'none';\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/dom/style/ShowElement.ts\n **/","import {IOptions} from \"picky\";\r\nimport {findOne} from \"../utils/dom/element/Find\";\r\nimport App from \"../App\";\r\nimport {toggleClass, hasClass} from \"../utils/dom/style/Css\";\r\nimport {Interactions} from \"./Interactions\";\r\n\r\nexport class Toggle\r\n{\r\n    element: HTMLElement;\r\n    active: boolean;\r\n    \r\n    constructor(private iid:string, private options: IOptions)\r\n    {\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * set up the toggle button;\r\n     * this is what the user will click to open/close the colour picker popup\r\n     */\r\n    setup()\r\n    {\r\n        //  get the specified element for the toggle button\r\n        \r\n        this.element = this.getElement();\r\n        \r\n        //  set iid property on element\r\n        \r\n        this.element.dataset['iid'] = this.iid;\r\n\r\n        //  add interaction listeners\r\n\r\n        this.listen();\r\n\r\n        //  also add click-outside listeners\r\n\r\n        new Interactions(this.iid, this.options).listen();\r\n    }\r\n\r\n\r\n    /**\r\n     * get the element for the toggle\r\n     */\r\n    getElement()\r\n    {\r\n        return findOne(this.options.elements.toggle);\r\n    }\r\n\r\n\r\n    /**\r\n     * listen for interactions and events\r\n     */\r\n    listen()\r\n    {\r\n        //  listen for click events\r\n\r\n        this.element.addEventListener('click', this.onClick);\r\n\r\n        //  listen for app-wide events\r\n\r\n        App.events.togglePopup.add(this.onTogglePopup);\r\n    }\r\n\r\n\r\n    /**\r\n     * when the toggle is clicked, toggle the colour picker popup\r\n     */\r\n    onClick = (event: MouseEvent) =>\r\n    {\r\n        //  check current state\r\n        \r\n        App.state.open = ! App.state.open;\r\n        \r\n        //  dispatch a popup toggle event;\r\n        //  this will tell all popups to toggle their visibility accordingly\r\n        \r\n        App.events.togglePopup.dispatch(this.iid);\r\n    };\r\n\r\n\r\n    /**\r\n     * when a popup is opened, check the iid;\r\n     * if it doesn't match this instance then we've opened the popup for an alternative instance\r\n     * so let's close this popup\r\n     * @param iid\r\n     */\r\n    onTogglePopup = (iid: string) =>\r\n    {\r\n        //  check the app's current state\r\n        \r\n        toggleClass(this.element, 'open', App.state.open);\r\n    };\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/toggle/Toggle.ts\n **/","import App from \"../App\";\r\nimport {IOptions} from \"picky\";\r\nimport {clickWasOutside} from \"../utils/dom/interaction/ClickOutside\";\r\n\r\nexport class Interactions\r\n{\r\n    constructor(private iid:string, private options: IOptions)\r\n    {\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * listen for popup-open events\r\n     */\r\n    listen()\r\n    {\r\n        App.events.togglePopup.add(this.onTogglePopup);\r\n    }\r\n\r\n\r\n    /**\r\n     * when a toggle popup event is triggered,\r\n     * check the iid and app state - if this instance's popup has been opened\r\n     * add a mouse-up listener to the document to let us close it on click outside\r\n     * @param iid\r\n     */\r\n    onTogglePopup = (iid: string) =>\r\n    {\r\n        //  if we're opening this popup, add document click listeners\r\n        //  to detect clicks outside while the popup is open\r\n\r\n        if (iid === this.iid && App.state.open)\r\n        {\r\n            document.addEventListener('mouseup', this.onDocumentClick);\r\n\r\n            return;\r\n        }\r\n\r\n        //  if we're closing it, remove any event listeners\r\n\r\n        document.removeEventListener('mouseup', this.onDocumentClick);\r\n    };\r\n\r\n\r\n    /**\r\n     * when the user clicks the document,\r\n     * check whether the click took place outside the current colour picker instance\r\n     * @param event\r\n     */\r\n    onDocumentClick = (event: MouseEvent) =>\r\n    {\r\n        //  test whether the click was outside the colour picker;\r\n        //  if so, and the user hasn't been selecting a colour,\r\n        //  let's close the popup;\r\n\r\n        if (clickWasOutside(event, this.iid) && ! App.state.dragging)\r\n        {\r\n            //  set the app state to closed\r\n\r\n            App.state.open = false;\r\n\r\n            //  dispatch the toggle event\r\n\r\n            App.events.togglePopup.dispatch(this.iid);\r\n        }\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/toggle/Interactions.ts\n **/","/**\r\n * did a click take place outside the target element?\r\n * @param event\r\n * @param target\r\n * @returns {boolean}\r\n */\r\nexport function clickWasOutside(event: MouseEvent, iid: string) : boolean\r\n{\r\n    var parent: HTMLElement;\r\n\r\n    //  when the user clicks within the document,\r\n    //  check the target and parent of the click;\r\n\r\n    //  if the click took place within a UI element associated with this kwill instance then ignore it\r\n\r\n    parent = <HTMLElement>event.target;\r\n\r\n    while (parent)\r\n    {\r\n        //  if the click target matches the given target,\r\n        //  the event took place inside the target,\r\n        //  so let's return false\r\n        \r\n        if (parent.dataset && parent.dataset['iid'] === iid) return false;\r\n\r\n        //  if it doesn't match, keep searching up the DOM\r\n\r\n        parent = parent.parentElement;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/dom/interaction/ClickOutside.ts\n **/","import {IOptions, IGradientStop} from \"picky\";\r\n\r\nimport App from \"../../App\";\r\nimport {IRGB} from \"picky\";\r\n// import {isRgbString} from \"./Validator\";\r\nimport {IHSL} from \"picky\";\r\nimport {hslToRgb} from \"./HslToRgb\";\r\nimport {rgbToHex, hexToRgb} from \"./RgbToString\";\r\nimport {rgbToHsl} from \"./RgbToHsl\";\r\n\r\nexport class ColourPalette\r\n{\r\n    element: SVGSVGElement;\r\n    hsl: IHSL;\r\n    rgb: IRGB;\r\n\r\n    constructor(private iid: string, private options: IOptions)\r\n    {\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * set up palette instance\r\n     */\r\n    setup()\r\n    {\r\n        //  set base colour values\r\n        \r\n        this.hsl = { hue: 0, saturation: 0, lightness: 0 };\r\n        this.rgb = { r: 0, g: 0, b: 0 };\r\n    }\r\n    \r\n\r\n    /**\r\n     * set the currently selected hue\r\n     * @param hue\r\n     */\r\n    setHue(hue: number)\r\n    {\r\n        this.hsl.hue = hue;\r\n        // this.element.style.backgroundColor = 'hsl(' + hue + ',100%,50%)';\r\n    }\r\n\r\n\r\n    /**\r\n     * set the current saturation\r\n     * @param saturation\r\n     * @param lightness\r\n     */\r\n    setSaturation(saturation: number)\r\n    {\r\n        this.hsl.saturation = saturation;\r\n    }\r\n\r\n\r\n    /**\r\n     * set the current lightness\r\n     * @param lightness\r\n     */\r\n    setLightness(lightness: number)\r\n    {\r\n        this.hsl.lightness = lightness;\r\n    }\r\n\r\n\r\n    /**\r\n     * set the current rgb colour\r\n     */\r\n    setRgb(rgb: IRGB | string)\r\n    {\r\n        // if (isRgbString(rgb))\r\n        // {\r\n        //\r\n        // }\r\n    }\r\n\r\n\r\n    /**\r\n     * combine H, S and L into a single colour\r\n     */\r\n    getHsl() : IHSL\r\n    {\r\n        return this.hsl;\r\n    }\r\n\r\n\r\n    /**\r\n     * combine H, S and L into a single colour\r\n     */\r\n    getRgb() : IRGB\r\n    {\r\n        return hslToRgb(this.hsl.hue, this.hsl.saturation, this.hsl.lightness);\r\n    }\r\n\r\n\r\n    /**\r\n     * get the current rgb colour as a string, eg #330034\r\n     * @returns {null}\r\n     */\r\n    getHexString(): string\r\n    {\r\n        return rgbToHex(this.getRgb());\r\n    }\r\n\r\n\r\n    /**\r\n     * set the current colour by hex string\r\n     * @returns {null}\r\n     */\r\n    setHexString(hex: string)\r\n    {\r\n        var hsl: IHSL;\r\n\r\n        //  convert hex string to HSL\r\n\r\n        this.hsl = rgbToHsl( hexToRgb(hex));\r\n\r\n        //  dispatch a colour update event\r\n\r\n        App.events.updateColour.dispatch( App.palette.getHexString());\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/colour/ColourPalette.ts\n **/","//  described here https://github.com/d3/d3-color/blob/master/src/color.js\r\n\r\n\r\nimport {IRGB} from \"picky\";\r\n\r\n/**\r\n * convert an HSL colour to an RGB numeric array;\r\n * h, s and l should all be between 0-1\r\n * \r\n * code filched from here:\r\n * https://github.com/mjackson/mjijackson.github.com/blob/master/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript.txt\r\n * @param h\r\n * @param s\r\n * @param l\r\n * @returns {number[]}\r\n */\r\nexport function hslToRgb(h: number, s: number, l: number) : IRGB\r\n{\r\n    var r: number,\r\n        g: number,\r\n        b: number;\r\n\r\n    //  check the saturation\r\n\r\n    if (s === 0)\r\n    {\r\n        //  if it's zero then the colour is a shade of grey,\r\n        //  and r, g and b will be equal to the lightness/luminance\r\n\r\n        r = g = b = l;\r\n    }\r\n    else\r\n    {\r\n        var q: number,\r\n            p: number;\r\n\r\n        //  magic numbers make pretty colours\r\n\r\n        q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n        p = 2 * l - q;\r\n\r\n        r = hueToRgb(p, q, h + 1/3);\r\n        g = hueToRgb(p, q, h);\r\n        b = hueToRgb(p, q, h - 1/3);\r\n    }\r\n\r\n    //  multiply colours by 255 and round\r\n\r\n    r = Math.round(r * 255);\r\n    g = Math.round(g * 255);\r\n    b = Math.round(b * 255);\r\n\r\n    //  return colours as an RGB object\r\n\r\n    return { r: r, g: g, b: b };\r\n}\r\n\r\n\r\n/**\r\n * convert a hue to rgb\r\n * @param p\r\n * @param q\r\n * @param t\r\n * @returns {number}\r\n */\r\nfunction hueToRgb(p: number, q: number, t: number) : number\r\n{\r\n    if(t < 0) t += 1;\r\n    if(t > 1) t -= 1;\r\n    if(t < 1/6) return p + (q - p) * 6 * t;\r\n    if(t < 1/2) return q;\r\n    if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\r\n\r\n    return p;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/colour/HslToRgb.ts\n **/","import {IRGB} from \"picky\";\r\nimport {prefixString} from \"../string/StringUtils\";\r\nimport {dehashString} from \"./Validator\";\r\n\r\n\r\n/**\r\n * convert an RGB object to a hex string;\r\n * snippet from here: http://stackoverflow.com/a/5624139\r\n * @param rgb\r\n */\r\nexport function rgbToHex(rgb: IRGB) : string\r\n{\r\n    var hex: string;\r\n    \r\n    //  convert RGB to hex\r\n    \r\n    hex = ((1 << 24) + (rgb.r << 16) + (rgb.g << 8) + rgb.b).toString(16).slice(1); \r\n    \r\n    //  add hash and return the string\r\n    \r\n    return '#' + hex;\r\n}\r\n\r\n\r\n\r\n/**\r\n * convert a hex string into an RGB object;\r\n * taken from here: http://stackoverflow.com/a/11508164\r\n * @param hex\r\n */\r\nexport function hexToRgb(hex: string) : IRGB\r\n{\r\n    var bigint: number,\r\n        r: number,\r\n        g: number,\r\n        b: number;\r\n    \r\n    //  expand a shorthand hex code if required\r\n\r\n    hex = dehashString(expandShortHexCode(hex));\r\n\r\n    //  parse the hex string into R/G/B values\r\n    \r\n    bigint = parseInt(hex, 16);\r\n    r = (bigint >> 16) & 255;\r\n    g = (bigint >> 8) & 255;\r\n    b = bigint & 255;\r\n\r\n    //  return RGB object\r\n    \r\n    return { r: r, g: g, b: b };\r\n}\r\n\r\n\r\n/**\r\n * expand a shorthand hex colour (eg #fff)\r\n * into a full six-figure one;\r\n * code from here: http://stackoverflow.com/a/5624139\r\n * @param hex\r\n */\r\nexport function expandShortHexCode(hex: string) : string\r\n{\r\n    var regexp: RegExp;\r\n\r\n    //  create reg exp\r\n\r\n    regexp = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n\r\n    //  run hex code through reg exp and return\r\n\r\n    return hex.replace(regexp, function(m, r, g, b)\r\n    {\r\n        return r + r + g + g + b + b;\r\n    });\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/colour/RgbToString.ts\n **/","/**\r\n * check that a hex string has a hash at the start\r\n * @param hex\r\n * @returns {string}\r\n */\r\nexport function hashString(hex: string) : string\r\n{\r\n    var characters: string[];\r\n\r\n    //  check the first character;\r\n    //  if it's a hash return the string unchanged\r\n\r\n    if (isHashed(hex)) return hex;\r\n\r\n    //  split string into characters\r\n\r\n    characters = hex.split('');\r\n\r\n    //  add a hash to the start of the string\r\n\r\n    characters.unshift('#');\r\n\r\n    //  then recompile and return the string\r\n\r\n    return characters.join('');\r\n}\r\n\r\n\r\n/**\r\n * remove hash from the start of a hex string\r\n * @param hex\r\n */\r\nexport function dehashString(hex: string) : string\r\n{\r\n    var characters: string[];\r\n\r\n    //  check the first character;\r\n    //  if it's a NOT a hash return the string unchanged\r\n\r\n    if (isHashed(hex) === false) return hex;\r\n\r\n    //  split string into characters\r\n\r\n    characters = hex.split('');\r\n\r\n    //  if it's not a hash then add one\r\n\r\n    characters.shift();\r\n\r\n    //  then recompile and return the string\r\n\r\n    return characters.join('');\r\n}\r\n\r\n\r\n/**\r\n * check whether a hex string has a hash at the start\r\n * @param hex\r\n * @returns {boolean}\r\n */\r\nfunction isHashed(hex: string) : boolean\r\n{\r\n    var characters: string[];\r\n\r\n    //  split string into characters\r\n\r\n    characters = hex.split('');\r\n\r\n    //  check the first character;\r\n    //  is it a hash?\r\n\r\n    return characters[0] === '#';\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/colour/Validator.ts\n **/","import {IHSL} from \"picky\";\r\nimport {IRGB} from \"picky\";\r\n\r\n/**\r\n * Converts an RGB color value to HSL. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\r\n * Assumes r, g, and b are contained in the set [0, 255] and\r\n * returns h, s, and l in the set [0, 1].\r\n * \r\n * taken from: https://github.com/mjackson/mjijackson.github.com/blob/master/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript.txt\r\n *\r\n * @param   {number}  r       The red color value\r\n * @param   {number}  g       The green color value\r\n * @param   {number}  b       The blue color value\r\n * @return  {Array}           The HSL representation\r\n */\r\nexport function rgbToHsl(rgb: IRGB) : IHSL\r\n{\r\n    var max: number,\r\n        min: number,\r\n        r: number,\r\n        g: number,\r\n        b: number,\r\n        h: number,\r\n        s: number,\r\n        l: number,\r\n        d: number;\r\n\r\n    //  convert values to between 0-1\r\n\r\n    r = rgb.r / 255;\r\n    g = rgb.g / 255;\r\n    b = rgb.b / 255;\r\n\r\n    // *waves hands*\r\n\r\n    max = Math.max(r, g, b);\r\n    min = Math.min(r, g, b);\r\n    h = s = l = (max + min) / 2;\r\n\r\n    if (max == min)\r\n    {\r\n        h = s = 0; // achromatic\r\n    }\r\n    else\r\n    {\r\n        d = max - min;\r\n\r\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n\r\n        switch(max)\r\n        {\r\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n            case g: h = (b - r) / d + 2; break;\r\n            case b: h = (r - g) / d + 4; break;\r\n        }\r\n\r\n        h /= 6;\r\n    }\r\n\r\n    return { hue: h, saturation: s, lightness: l };\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/colour/RgbToHsl.ts\n **/","import {IOptions} from \"picky\";\r\nimport * as signals from 'signals';\r\n\r\n\r\nexport class Events\r\n{\r\n    updateColour: Signal;\r\n    togglePopup: Signal;\r\n\r\n    constructor(private iid: string, private options: IOptions)\r\n    {\r\n        \r\n    }\r\n\r\n\r\n    /**\r\n     * set up our signals;\r\n     * these allow internal and external communication\r\n     */\r\n    setup()\r\n    {\r\n        this.updateColour = new signals.Signal();\r\n        this.togglePopup = new signals.Signal();\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/events/Events.ts\n **/","/*jslint onevar:true, undef:true, newcap:true, regexp:true, bitwise:true, maxerr:50, indent:4, white:false, nomen:false, plusplus:false */\n/*global define:false, require:false, exports:false, module:false, signals:false */\n\n/** @license\n * JS Signals <http://millermedeiros.github.com/js-signals/>\n * Released under the MIT license\n * Author: Miller Medeiros\n * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)\n */\n\n(function(global){\n\n    // SignalBinding -------------------------------------------------\n    //================================================================\n\n    /**\n     * Object that represents a binding between a Signal and a listener function.\n     * <br />- <strong>This is an internal constructor and shouldn't be called by regular users.</strong>\n     * <br />- inspired by Joa Ebert AS3 SignalBinding and Robert Penner's Slot classes.\n     * @author Miller Medeiros\n     * @constructor\n     * @internal\n     * @name SignalBinding\n     * @param {Signal} signal Reference to Signal object that listener is currently bound to.\n     * @param {Function} listener Handler function bound to the signal.\n     * @param {boolean} isOnce If binding should be executed just once.\n     * @param {Object} [listenerContext] Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n     * @param {Number} [priority] The priority level of the event listener. (default = 0).\n     */\n    function SignalBinding(signal, listener, isOnce, listenerContext, priority) {\n\n        /**\n         * Handler function bound to the signal.\n         * @type Function\n         * @private\n         */\n        this._listener = listener;\n\n        /**\n         * If binding should be executed just once.\n         * @type boolean\n         * @private\n         */\n        this._isOnce = isOnce;\n\n        /**\n         * Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n         * @memberOf SignalBinding.prototype\n         * @name context\n         * @type Object|undefined|null\n         */\n        this.context = listenerContext;\n\n        /**\n         * Reference to Signal object that listener is currently bound to.\n         * @type Signal\n         * @private\n         */\n        this._signal = signal;\n\n        /**\n         * Listener priority\n         * @type Number\n         * @private\n         */\n        this._priority = priority || 0;\n    }\n\n    SignalBinding.prototype = {\n\n        /**\n         * If binding is active and should be executed.\n         * @type boolean\n         */\n        active : true,\n\n        /**\n         * Default parameters passed to listener during `Signal.dispatch` and `SignalBinding.execute`. (curried parameters)\n         * @type Array|null\n         */\n        params : null,\n\n        /**\n         * Call listener passing arbitrary parameters.\n         * <p>If binding was added using `Signal.addOnce()` it will be automatically removed from signal dispatch queue, this method is used internally for the signal dispatch.</p>\n         * @param {Array} [paramsArr] Array of parameters that should be passed to the listener\n         * @return {*} Value returned by the listener.\n         */\n        execute : function (paramsArr) {\n            var handlerReturn, params;\n            if (this.active && !!this._listener) {\n                params = this.params? this.params.concat(paramsArr) : paramsArr;\n                handlerReturn = this._listener.apply(this.context, params);\n                if (this._isOnce) {\n                    this.detach();\n                }\n            }\n            return handlerReturn;\n        },\n\n        /**\n         * Detach binding from signal.\n         * - alias to: mySignal.remove(myBinding.getListener());\n         * @return {Function|null} Handler function bound to the signal or `null` if binding was previously detached.\n         */\n        detach : function () {\n            return this.isBound()? this._signal.remove(this._listener, this.context) : null;\n        },\n\n        /**\n         * @return {Boolean} `true` if binding is still bound to the signal and have a listener.\n         */\n        isBound : function () {\n            return (!!this._signal && !!this._listener);\n        },\n\n        /**\n         * @return {boolean} If SignalBinding will only be executed once.\n         */\n        isOnce : function () {\n            return this._isOnce;\n        },\n\n        /**\n         * @return {Function} Handler function bound to the signal.\n         */\n        getListener : function () {\n            return this._listener;\n        },\n\n        /**\n         * @return {Signal} Signal that listener is currently bound to.\n         */\n        getSignal : function () {\n            return this._signal;\n        },\n\n        /**\n         * Delete instance properties\n         * @private\n         */\n        _destroy : function () {\n            delete this._signal;\n            delete this._listener;\n            delete this.context;\n        },\n\n        /**\n         * @return {string} String representation of the object.\n         */\n        toString : function () {\n            return '[SignalBinding isOnce:' + this._isOnce +', isBound:'+ this.isBound() +', active:' + this.active + ']';\n        }\n\n    };\n\n\n/*global SignalBinding:false*/\n\n    // Signal --------------------------------------------------------\n    //================================================================\n\n    function validateListener(listener, fnName) {\n        if (typeof listener !== 'function') {\n            throw new Error( 'listener is a required param of {fn}() and should be a Function.'.replace('{fn}', fnName) );\n        }\n    }\n\n    /**\n     * Custom event broadcaster\n     * <br />- inspired by Robert Penner's AS3 Signals.\n     * @name Signal\n     * @author Miller Medeiros\n     * @constructor\n     */\n    function Signal() {\n        /**\n         * @type Array.<SignalBinding>\n         * @private\n         */\n        this._bindings = [];\n        this._prevParams = null;\n\n        // enforce dispatch to aways work on same context (#47)\n        var self = this;\n        this.dispatch = function(){\n            Signal.prototype.dispatch.apply(self, arguments);\n        };\n    }\n\n    Signal.prototype = {\n\n        /**\n         * Signals Version Number\n         * @type String\n         * @const\n         */\n        VERSION : '1.0.0',\n\n        /**\n         * If Signal should keep record of previously dispatched parameters and\n         * automatically execute listener during `add()`/`addOnce()` if Signal was\n         * already dispatched before.\n         * @type boolean\n         */\n        memorize : false,\n\n        /**\n         * @type boolean\n         * @private\n         */\n        _shouldPropagate : true,\n\n        /**\n         * If Signal is active and should broadcast events.\n         * <p><strong>IMPORTANT:</strong> Setting this property during a dispatch will only affect the next dispatch, if you want to stop the propagation of a signal use `halt()` instead.</p>\n         * @type boolean\n         */\n        active : true,\n\n        /**\n         * @param {Function} listener\n         * @param {boolean} isOnce\n         * @param {Object} [listenerContext]\n         * @param {Number} [priority]\n         * @return {SignalBinding}\n         * @private\n         */\n        _registerListener : function (listener, isOnce, listenerContext, priority) {\n\n            var prevIndex = this._indexOfListener(listener, listenerContext),\n                binding;\n\n            if (prevIndex !== -1) {\n                binding = this._bindings[prevIndex];\n                if (binding.isOnce() !== isOnce) {\n                    throw new Error('You cannot add'+ (isOnce? '' : 'Once') +'() then add'+ (!isOnce? '' : 'Once') +'() the same listener without removing the relationship first.');\n                }\n            } else {\n                binding = new SignalBinding(this, listener, isOnce, listenerContext, priority);\n                this._addBinding(binding);\n            }\n\n            if(this.memorize && this._prevParams){\n                binding.execute(this._prevParams);\n            }\n\n            return binding;\n        },\n\n        /**\n         * @param {SignalBinding} binding\n         * @private\n         */\n        _addBinding : function (binding) {\n            //simplified insertion sort\n            var n = this._bindings.length;\n            do { --n; } while (this._bindings[n] && binding._priority <= this._bindings[n]._priority);\n            this._bindings.splice(n + 1, 0, binding);\n        },\n\n        /**\n         * @param {Function} listener\n         * @return {number}\n         * @private\n         */\n        _indexOfListener : function (listener, context) {\n            var n = this._bindings.length,\n                cur;\n            while (n--) {\n                cur = this._bindings[n];\n                if (cur._listener === listener && cur.context === context) {\n                    return n;\n                }\n            }\n            return -1;\n        },\n\n        /**\n         * Check if listener was attached to Signal.\n         * @param {Function} listener\n         * @param {Object} [context]\n         * @return {boolean} if Signal has the specified listener.\n         */\n        has : function (listener, context) {\n            return this._indexOfListener(listener, context) !== -1;\n        },\n\n        /**\n         * Add a listener to the signal.\n         * @param {Function} listener Signal handler function.\n         * @param {Object} [listenerContext] Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n         * @param {Number} [priority] The priority level of the event listener. Listeners with higher priority will be executed before listeners with lower priority. Listeners with same priority level will be executed at the same order as they were added. (default = 0)\n         * @return {SignalBinding} An Object representing the binding between the Signal and listener.\n         */\n        add : function (listener, listenerContext, priority) {\n            validateListener(listener, 'add');\n            return this._registerListener(listener, false, listenerContext, priority);\n        },\n\n        /**\n         * Add listener to the signal that should be removed after first execution (will be executed only once).\n         * @param {Function} listener Signal handler function.\n         * @param {Object} [listenerContext] Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n         * @param {Number} [priority] The priority level of the event listener. Listeners with higher priority will be executed before listeners with lower priority. Listeners with same priority level will be executed at the same order as they were added. (default = 0)\n         * @return {SignalBinding} An Object representing the binding between the Signal and listener.\n         */\n        addOnce : function (listener, listenerContext, priority) {\n            validateListener(listener, 'addOnce');\n            return this._registerListener(listener, true, listenerContext, priority);\n        },\n\n        /**\n         * Remove a single listener from the dispatch queue.\n         * @param {Function} listener Handler function that should be removed.\n         * @param {Object} [context] Execution context (since you can add the same handler multiple times if executing in a different context).\n         * @return {Function} Listener handler function.\n         */\n        remove : function (listener, context) {\n            validateListener(listener, 'remove');\n\n            var i = this._indexOfListener(listener, context);\n            if (i !== -1) {\n                this._bindings[i]._destroy(); //no reason to a SignalBinding exist if it isn't attached to a signal\n                this._bindings.splice(i, 1);\n            }\n            return listener;\n        },\n\n        /**\n         * Remove all listeners from the Signal.\n         */\n        removeAll : function () {\n            var n = this._bindings.length;\n            while (n--) {\n                this._bindings[n]._destroy();\n            }\n            this._bindings.length = 0;\n        },\n\n        /**\n         * @return {number} Number of listeners attached to the Signal.\n         */\n        getNumListeners : function () {\n            return this._bindings.length;\n        },\n\n        /**\n         * Stop propagation of the event, blocking the dispatch to next listeners on the queue.\n         * <p><strong>IMPORTANT:</strong> should be called only during signal dispatch, calling it before/after dispatch won't affect signal broadcast.</p>\n         * @see Signal.prototype.disable\n         */\n        halt : function () {\n            this._shouldPropagate = false;\n        },\n\n        /**\n         * Dispatch/Broadcast Signal to all listeners added to the queue.\n         * @param {...*} [params] Parameters that should be passed to each handler.\n         */\n        dispatch : function (params) {\n            if (! this.active) {\n                return;\n            }\n\n            var paramsArr = Array.prototype.slice.call(arguments),\n                n = this._bindings.length,\n                bindings;\n\n            if (this.memorize) {\n                this._prevParams = paramsArr;\n            }\n\n            if (! n) {\n                //should come after memorize\n                return;\n            }\n\n            bindings = this._bindings.slice(); //clone array in case add/remove items during dispatch\n            this._shouldPropagate = true; //in case `halt` was called before dispatch or during the previous dispatch.\n\n            //execute all callbacks until end of the list or until a callback returns `false` or stops propagation\n            //reverse loop since listeners with higher priority will be added at the end of the list\n            do { n--; } while (bindings[n] && this._shouldPropagate && bindings[n].execute(paramsArr) !== false);\n        },\n\n        /**\n         * Forget memorized arguments.\n         * @see Signal.memorize\n         */\n        forget : function(){\n            this._prevParams = null;\n        },\n\n        /**\n         * Remove all bindings from signal and destroy any reference to external objects (destroy Signal object).\n         * <p><strong>IMPORTANT:</strong> calling any method on the signal instance after calling dispose will throw errors.</p>\n         */\n        dispose : function () {\n            this.removeAll();\n            delete this._bindings;\n            delete this._prevParams;\n        },\n\n        /**\n         * @return {string} String representation of the object.\n         */\n        toString : function () {\n            return '[Signal active:'+ this.active +' numListeners:'+ this.getNumListeners() +']';\n        }\n\n    };\n\n\n    // Namespace -----------------------------------------------------\n    //================================================================\n\n    /**\n     * Signals namespace\n     * @namespace\n     * @name signals\n     */\n    var signals = Signal;\n\n    /**\n     * Custom event broadcaster\n     * @see Signal\n     */\n    // alias for backwards compatibility (see #gh-44)\n    signals.Signal = Signal;\n\n\n\n    //exports to multiple environments\n    if(typeof define === 'function' && define.amd){ //AMD\n        define(function () { return signals; });\n    } else if (typeof module !== 'undefined' && module.exports){ //node\n        module.exports = signals;\n    } else { //browser\n        //use string because of Google closure compiler ADVANCED_MODE\n        /*jslint sub:true */\n        global['signals'] = signals;\n    }\n\n}(this));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/signals/dist/signals.js\n ** module id = 33\n ** module chunks = 0\n **/","import {IOptions} from \"picky\";\r\n\r\nexport class State\r\n{\r\n    open: boolean;\r\n    dragging: boolean;\r\n    \r\n    constructor(private iid:string, private options: IOptions)\r\n    {\r\n        \r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/state/State.ts\n **/"],"sourceRoot":""}