{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 65c37b7bcff52216731d","webpack:///./src/ts/ColourPicker.ts","webpack:///./src/ts/popup/Popup.ts","webpack:///./src/ts/utils/dom/element/Find.ts","webpack:///./src/ts/utils/string/StringUtils.ts","webpack:///./src/ts/App.ts","webpack:///./src/ts/utils/dom/style/Css.ts","webpack:///./src/ts/popup/hue-pane/HuePane.ts","webpack:///./src/ts/popup/svg/CreateGradientElement.ts","webpack:///./src/ts/popup/svg/SetGradientDirection.ts","webpack:///./src/ts/popup/svg/FillGradient.ts","webpack:///./src/ts/popup/svg/CreateColourRect.ts","webpack:///./src/ts/popup/hue-pane/Interactions.ts","webpack:///./src/ts/popup/hue-pane/GetHueAtCursor.ts","webpack:///./src/ts/utils/math/Clamp.ts","webpack:///./src/ts/utils/dom/style/PreventSelections.ts","webpack:///./src/ts/utils/UniqueId.ts","webpack:///./src/ts/utils/dom/style/FillContainer.ts","webpack:///./src/ts/popup/tone-pane/TonePane.ts","webpack:///./src/ts/popup/tone-pane/Interactions.ts","webpack:///./src/ts/popup/tone-pane/GetColourAtCursor.ts","webpack:///./src/ts/popup/swatch/Swatch.ts","webpack:///./src/ts/popup/text-input/TextInput.ts","webpack:///./src/ts/popup/text-input/Interaction.ts","webpack:///./src/ts/toggle/Toggle.ts","webpack:///./src/ts/utils/colour/ColourPalette.ts","webpack:///./src/ts/utils/colour/HslToRgb.ts","webpack:///./src/ts/utils/colour/RgbToString.ts","webpack:///./src/ts/utils/colour/Validator.ts","webpack:///./src/ts/utils/colour/RgbToHsl.ts","webpack:///./src/ts/events/Events.ts","webpack:///./~/signals/dist/signals.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;AClCA,mCAAoB,CAAe,CAAC;AACpC,oCAAqB,EAAiB,CAAC;AACvC,iCAAgB,CAAO,CAAC;AACxB,sCAA0B,EAAkB,CAAC;AAC7C,2CAA4B,EAA8B,CAAC;AAC3D,oCAAqB,EAAiB,CAAC;AAEvC;KAKI,sBAAY,OAAiB;SAEzB,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;SAI1B,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;KACxB,CAAC;KAOD,4BAAK,GAAL,UAAM,OAAiB;SAInB,IAAI,CAAC,GAAG,GAAG,sBAAW,CAAC,QAAQ,CAAC,CAAC;SAIjC,aAAG,CAAC,MAAM,GAAG,IAAI,eAAM,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;SAC3C,aAAG,CAAC,OAAO,GAAG,IAAI,6BAAa,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;SACnD,aAAG,CAAC,KAAK,GAAG,IAAI,aAAK,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;SACzC,aAAG,CAAC,MAAM,GAAG,IAAI,eAAM,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;SAI3C,aAAG,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;SACnB,aAAG,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;SACpB,aAAG,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;SACnB,aAAG,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;KACtB,CAAC;KAOD,sBAAI,kCAAQ;cAAZ;aAEI,MAAM,CAAC,aAAG,CAAC,MAAM,CAAC,YAAY,CAAC;SACnC,CAAC;;;QAAA;KACD,sBAAI,6BAAG;cAAP;aAEI,MAAM,CAAC,aAAG,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;SACtC,CAAC;;;QAAA;KAMD,8BAAO,GAAP;KAGA,CAAC;KACL,mBAAC;AAAD,EAAC;AA9DY,qBAAY,eA8DxB;;;;;;;;ACxED,kCAAsB,CAA2B,CAAC;AAClD,iCAAgB,CAAQ,CAAC;AACzB,iCAAgB,CAAwB,CAAC;AACzC,qCAAsB,CAAoB,CAAC;AAC3C,sCAAuB,EAAsB,CAAC;AAC9C,oCAAqB,EAAiB,CAAC;AACvC,uCAAwB,EAAwB,CAAC;AAGjD;KAII,eAAoB,GAAU,EAAU,OAAiB;SAArC,QAAG,GAAH,GAAG,CAAO;SAAU,YAAO,GAAP,OAAO,CAAU;KAGzD,CAAC;KAOD,qBAAK,GAAL;SAII,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;SAIjC,aAAG,CAAC,MAAM,GAAG,IAAI,eAAM,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;SAChD,aAAG,CAAC,SAAS,GAAG,IAAI,qBAAS,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;SACtD,aAAG,CAAC,QAAQ,GAAG,IAAI,mBAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;SACpD,aAAG,CAAC,OAAO,GAAG,IAAI,iBAAO,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;SAIlD,aAAG,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;SACnB,aAAG,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;SACtB,aAAG,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;SACrB,aAAG,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;KACxB,CAAC;KAMD,0BAAU,GAAV;SAEI,IAAI,OAAoB,CAAC;SAMzB,OAAO,GAAG,cAAO,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;SAE/C,EAAE,CAAC,CAAC,OAAO,CAAC;aAAC,MAAM,CAAC,OAAO,CAAC;SAI5B,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;KAChC,CAAC;KAMD,6BAAa,GAAb;SAEI,IAAI,OAAoB,CAAC;SAIzB,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;SAIxC,aAAG,CAAC,QAAQ,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;SAKrC,aAAG,CAAC,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,YAAY,CAAC,OAAO,EAAE,aAAG,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;SAEpF,MAAM,CAAC,OAAO,CAAC;KACnB,CAAC;KAMD,gCAAgB,GAAhB;SAII,aAAG,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;KAC5C,CAAC;KACL,YAAC;AAAD,EAAC;AA1FY,cAAK,QA0FjB;;;;;;;;ACpGD,yCAA0B,CAA0B,CAAC;AAOrD,kBAAwB,QAAa;KAIjC,EAAE,CAAC,CAAE,CAAE,QAAQ,CAAC;SAAC,MAAM,CAAC,IAAI,CAAC;KAI7B,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;SAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;KACtD,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;SAAC,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;KAEzD,MAAM,CAAC,IAAI,CAAC;AAChB,EAAC;AAZe,gBAAO,UAYtB;AAOD,kBAAwB,QAAa;KAEjC,IAAI,MAA8B,CAAC;KAInC,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;KAI3B,EAAE,CAAC,CAAE,CAAE,MAAM,CAAC;SAAC,MAAM,CAAC,IAAI,CAAC;KAI3B,EAAE,CAAC,CAAC,MAAM,YAAY,WAAW,CAAC;SAAC,MAAM,CAAC,MAAM,CAAC;KAIjD,MAAM,CAAyB,MAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACnD,EAAC;AAnBe,gBAAO,UAmBtB;AAMD,sBAA4B,SAAiB;KAEzC,MAAM,CAAW,QAAQ,CAAC,sBAAsB,CAAE,wBAAU,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC;AAChF,EAAC;AAHe,oBAAW,cAG1B;AAMD,mBAAyB,EAAU;KAE/B,MAAM,CAAC,QAAQ,CAAC,cAAc,CAAE,wBAAU,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;AACvD,EAAC;AAHe,iBAAQ,WAGvB;;;;;;;;ACxDD,qBAA2B,KAAa,EAAE,KAAc,EAAE,GAAY;KAElE,IAAI,MAAc,EACd,KAAe,CAAC;KAIpB,MAAM,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;KAItB,EAAE,CAAC,CAAE,CAAE,KAAK,IAAI,CAAE,GAAG,CAAC;SAAC,MAAM,CAAC,MAAM,CAAC;KAIrC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;KAIzB,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;KACvB,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;KAItB,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AAC1B,EAAC;AAzBe,mBAAU,aAyBzB;AAUD,uBAA6B,KAAa,EAAE,MAAc,EAAE,MAAiC;KAAjC,sBAAiC,GAAjC,SAAiB,KAAK,CAAC,MAAM,GAAG,CAAC;KAEzF,IAAI,UAAoB,CAAC;KAIzB,UAAU,GAAG,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;KAI7B,OAAM,UAAU,CAAC,MAAM,GAAG,MAAM,EAChC,CAAC;SACG,UAAU,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;KAC/B,CAAC;KAKD,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AAC/B,EAAC;AAnBe,qBAAY,eAmB3B;;;;;;;;AC3DD;KAWI;KAGA,CAAC;KACL,UAAC;AAAD,EAAC;AAfD;sBAeC;;;;;;;;ACjBD;KAEI;KAGA,CAAC;KAQM,YAAQ,GAAf,UAAgB,OAAgB,EAAE,SAAiB;SAI/C,EAAE,CAAC,CAAE,CAAE,OAAO,CAAC;aAAC,MAAM,CAAC,KAAK,CAAC;SAI7B,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;KACrC,CAAC;KASM,eAAW,GAAlB,UAAmB,OAAoB,EAAE,SAAiB;SAItD,EAAE,CAAC,CAAE,CAAE,OAAO,CAAC;aAAC,MAAM,CAAC,KAAK,CAAC;SAI7B,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;KACxC,CAAC;KASM,eAAW,GAAlB,UAAmB,OAAoB,EAAE,SAAiB,EAAE,MAAgB;SASxE,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,EAAE,SAAS,CAAC,KAAK,KAAK,CAAC,CAC/C,CAAC;aACG,GAAG,CAAC,QAAQ,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;SACrC,CAAC;SACD,IAAI,CACJ,CAAC;aACG,GAAG,CAAC,WAAW,CAAC,OAAO,EAAE,SAAS,CAAC;SACvC,CAAC;KACL,CAAC;KASM,YAAQ,GAAf,UAAgB,OAAoB,EAAE,SAAiB;SAInD,EAAE,CAAC,CAAE,CAAE,OAAO,CAAC;aAAC,MAAM,CAAC,KAAK,CAAC;SAI7B,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;KACjD,CAAC;KACL,UAAC;AAAD,EAAC;AAED;mBAAe,GAAG,CAAC;;;;;;;;ACrFnB,kCAAsB,CAA8B,CAAC;AAErD,iCAAgB,CAA2B,CAAC;AAC5C,mDAAkC,CAA8B,CAAC;AACjE,kDAAiC,CAA6B,CAAC;AAC/D,0CAAyB,CAAqB,CAAC;AAC/C,8CAA6B,EAAyB,CAAC;AACvD,0CAA2B,EAAgB,CAAC;AAC5C,sCAA0B,EAAsB,CAAC;AACjD,2CAA4B,EAAqC,CAAC;AAElE;KAII,iBAAoB,GAAU,EAAU,OAAiB;SAArC,QAAG,GAAH,GAAG,CAAO;SAAU,YAAO,GAAP,OAAO,CAAU;KAGzD,CAAC;KAOD,uBAAK,GAAL;SAII,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,qBAAqB,EAAE,CAAC;SAI5C,0BAAgB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;SAIpD,IAAI,2BAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,CAAC;KAC5C,CAAC;KAMD,uCAAqB,GAArB;SAEI,IAAI,OAAsB,CAAC;SAI3B,OAAO,GAAkB,QAAQ,CAAC,eAAe,CAAC,4BAA4B,EAAE,KAAK,CAAC,CAAC;SAIvF,aAAG,CAAC,QAAQ,CAAC,OAAO,EAAE,yBAAyB,CAAC,CAAC;SAIjD,6BAAa,CAAC,OAAO,CAAC,CAAC;SAIvB,IAAI,CAAC,YAAY,EAAE,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;SAIzC,MAAM,CAAC,OAAO,CAAC;KACnB,CAAC;KAMD,8BAAY,GAAZ;SAEI,MAAM,CAAC,cAAO,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;KACnD,CAAC;KAMD,8BAAY,GAAZ;SAEI,IAAI,EAAU,EACV,QAA4B,EAC5B,KAAsB,CAAC;SAI3B,EAAE,GAAG,sBAAW,CAAC,qBAAqB,CAAC,CAAC;SAIxC,KAAK;aACD;iBACI;qBACI,MAAM,EAAE,SAAS;qBACjB,MAAM,EAAE,IAAI;kBACf;iBACD;qBACI,MAAM,EAAE,SAAS;qBACjB,MAAM,EAAE,KAAK;kBAChB;iBACD;qBACI,MAAM,EAAE,SAAS;qBACjB,MAAM,EAAE,KAAK;kBAChB;iBACD;qBACI,MAAM,EAAE,SAAS;qBACjB,MAAM,EAAE,KAAK;kBAChB;iBACD;qBACI,MAAM,EAAE,SAAS;qBACjB,MAAM,EAAE,KAAK;kBAChB;iBACD;qBACI,MAAM,EAAE,SAAS;qBACjB,MAAM,EAAE,KAAK;kBAChB;iBACD;qBACI,MAAM,EAAE,SAAS;qBACjB,MAAM,EAAE,MAAM;kBACjB;cACJ,CAAC;SAIN,QAAQ,GAAG,+BAAqB,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;SAInD,8BAAoB,CAAC,QAAQ,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,MAAM,CAAC,CAAC,CAAC;SAIxD,sBAAY,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;SAI9B,MAAM,CAAC,EAAE,CAAC;KACd,CAAC;KAOD,wBAAM,GAAN,UAAO,GAAW;KAGlB,CAAC;KACL,cAAC;AAAD,EAAC;AA7IY,gBAAO,UA6InB;;;;;;;;ACtJD;mBAAe,UAAC,GAAkB,EAAE,EAAU,EAAE,IAA+B;KAA/B,oBAA+B,GAA/B,uBAA+B;KAE3E,IAAI,MAAc,EACd,IAAoB,EACpB,QAA4B,CAAC;KAIjC,MAAM,GAAG,GAAG,CAAC,YAAY,CAAC;KAI1B,IAAI,GAAmB,CAAC,GAAG,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,YAAY,CAAE,QAAQ,CAAC,eAAe,CAAC,MAAM,EAAE,MAAM,CAAC,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;KAIlI,QAAQ,GAAuB,QAAQ,CAAC,eAAe,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;KAItE,QAAQ,CAAC,YAAY,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;KAIhC,QAAQ,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;KAClC,QAAQ,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;KAClC,QAAQ,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;KAClC,QAAQ,CAAC,YAAY,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;KAIpC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;KAI3B,MAAM,CAAC,QAAQ,CAAC;AACpB,EAAC;;;;;;;;ACpCD;mBAAe,UAAC,QAA4B,EAAE,MAAgB;KAI1D,QAAQ,CAAC,YAAY,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;KACvC,QAAQ,CAAC,YAAY,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;KACvC,QAAQ,CAAC,YAAY,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;KACvC,QAAQ,CAAC,YAAY,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;KAIvC,MAAM,CAAC,QAAQ,CAAC;AACpB,EAAC;;;;;;;;ACTD;mBAAe,UAAC,QAA4B,EAAE,KAAsB;KAEhE,IAAI,MAAc,EACd,IAAoB,CAAC;KAIzB,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,YAAY,CAAC;KAE7C,GAAG,CAAC,CAAC,IAAI,CAAC,GAAW,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAG,EAC9C,CAAC;SAGG,IAAI,GAAmB,QAAQ,CAAC,eAAe,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;SAIhE,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;SAC7C,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;SACjD,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,IAAI,GAAG,CAAC,CAAC;SAI3D,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;KAC/B,CAAC;AACL,EAAC;;;;;;;;AC5BD;mBAAe,UAAC,GAAkB,EAAE,WAAmB;KAEnD,IAAI,IAAoB,CAAC;KAIzB,IAAI,GAAmB,QAAQ,CAAC,eAAe,CAAC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;KAI1E,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;KAC5B,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;KAC5B,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;KACnC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;KAIpC,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,OAAO,GAAG,WAAW,GAAG,GAAG,CAAC,CAAC;KAIvD,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;AAC1B,EAAC;;;;;;;;AC1BD,iCAAgB,CAAW,CAAC;AAC5B,4CAA6B,EAAkB,CAAC;AAChD,+CAAgC,EAAyC,CAAC;AAE1E;KAEI,sBAAoB,OAAsB;SAF9C,iBAiEC;SA/DuB,YAAO,GAAP,OAAO,CAAe;SAoB1C,gBAAW,GAAG;aAEV,qCAAiB,EAAE,CAAC;aAEpB,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,KAAI,CAAC,WAAW,CAAC,CAAC;aACzD,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,KAAI,CAAC,SAAS,CAAC,CAAC;SACzD,CAAC,CAAC;SAOF,gBAAW,GAAG,UAAC,KAAiB;aAE5B,IAAI,GAAW,CAAC;aAKhB,GAAG,GAAG,+BAAc,CAAC,KAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;aAI1C,aAAG,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;aAIxB,aAAG,CAAC,MAAM,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;SACvC,CAAC,CAAC;SAOF,cAAS,GAAG;aAER,qCAAiB,CAAC,KAAK,CAAC,CAAC;aAEzB,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,KAAI,CAAC,WAAW,CAAC,CAAC;aAC5D,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,KAAI,CAAC,SAAS,CAAC,CAAC;SAC5D,CAAC,CAAC;KA3DF,CAAC;KAMD,6BAAM,GAAN;SAEI,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;KACjE,CAAC;KAmDL,mBAAC;AAAD,EAAC;AAjEY,qBAAY,eAiExB;;;;;;;;ACpED,mCAAoB,EAAwB,CAAC;AAM7C,yBAA+B,MAAe,EAAE,KAAiB;KAE7D,IAAI,WAAuB,EACvB,YAAoB,EACpB,GAAW,CAAC;KAOhB,WAAW,GAAG,MAAM,CAAC,qBAAqB,EAAE,CAAC;KAI7C,YAAY,GAAG,KAAK,CAAC,KAAK,GAAG,WAAW,CAAC,GAAG,CAAC;KAI7C,YAAY,GAAG,aAAK,CAAC,YAAY,EAAE,CAAC,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC;KAI1D,GAAG,GAAG,CAAC,GAAG,CAAC,YAAY,GAAG,WAAW,CAAC,MAAM,CAAC,CAAC;KAI9C,MAAM,CAAC,GAAG,CAAC;AACf,EAAC;AA5Be,uBAAc,iBA4B7B;;;;;;;;AC5BD,gBAAsB,CAAS,EAAE,GAAW,EAAE,GAAW;KAErD,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;AAC3C,EAAC;AAHe,cAAK,QAGpB;;;;;;;;ACVD,4BAAkC,iBAAiC;KAAjC,iCAAiC,GAAjC,wBAAiC;KAE/D,IAAI,MAAgB,EAChB,KAAa,CAAC;KAIlB,MAAM;SACF;aACI,oBAAoB;aACpB,kBAAkB;aAClB,eAAe;aACf,cAAc;aACd,YAAY;UACf,CAAC;KAIN,KAAK,GAAG,iBAAiB,KAAK,IAAI,GAAG,MAAM,GAAG,EAAE,CAAC;KAIjD,GAAG,CAAC,CAAC,IAAI,CAAC,GAAW,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAC9C,CAAC;SACG,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAO,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;KACjD,CAAC;AACL,EAAC;AA1Be,0BAAiB,oBA0BhC;;;;;;;;AC1BD,sBAA4B,MAAmB;KAAnB,sBAAmB,GAAnB,WAAmB;KAE3C,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC;AAEvC,EAAC;AAJe,oBAAW,cAI1B;;;;;;;;ACAD,wBAA8B,OAA0B;KAEpD,OAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;KACpC,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC;KAC1B,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC;KAC3B,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;KAC7B,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;AAClC,EAAC;AAPe,sBAAa,gBAO5B;;;;;;;;ACRD,iCAAgB,CAAW,CAAC;AAC5B,iCAAgB,CAA2B,CAAC;AAC5C,mDAAkC,CAA8B,CAAC;AACjE,kDAAiC,CAA6B,CAAC;AAC/D,0CAAyB,CAAqB,CAAC;AAC/C,8CAA6B,EAAyB,CAAC;AACvD,0CAA2B,EAAgB,CAAC;AAC5C,sCAA0B,EAAsB,CAAC;AAGjD,kCAAsB,CAA8B,CAAC;AACrD,2CAA4B,EAAqC,CAAC;AAElE;KAII,kBAAoB,GAAU,EAAU,OAAiB;SAJ7D,iBA6KC;SAzKuB,QAAG,GAAH,GAAG,CAAO;SAAU,YAAO,GAAP,OAAO,CAAU;SAuHzD,gBAAW,GAAG;aAIV,KAAI,CAAC,MAAM,CAAC,aAAG,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;SAK3C,CAAC,CAAC;KA7HF,CAAC;KAOD,wBAAK,GAAL;SAII,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,qBAAqB,EAAE,CAAC;SAI5C,0BAAgB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;SACtF,0BAAgB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;SAItF,IAAI,2BAAY,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,CAAC;SAIlD,aAAG,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;KAClD,CAAC;KAMD,wCAAqB,GAArB;SAEI,IAAI,OAAsB,CAAC;SAI3B,OAAO,GAAkB,QAAQ,CAAC,eAAe,CAAC,4BAA4B,EAAE,KAAK,CAAC,CAAC;SAIvF,aAAG,CAAC,QAAQ,CAAC,OAAO,EAAE,0BAA0B,CAAC,CAAC;SAIlD,6BAAa,CAAC,OAAO,CAAC,CAAC;SAIvB,IAAI,CAAC,YAAY,EAAE,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;SAIzC,MAAM,CAAC,OAAO,CAAC;KACnB,CAAC;KAMD,+BAAY,GAAZ;SAEI,MAAM,CAAC,cAAO,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;KACpD,CAAC;KAMD,+BAAY,GAAZ,UAAa,IAAY,EAAE,SAAmB;SAE1C,IAAI,EAAU,EACV,QAA4B,EAC5B,KAAsB,CAAC;SAI3B,EAAE,GAAG,sBAAW,CAAC,qBAAqB,CAAC,CAAC;SAIxC,KAAK;aACD;iBACI;qBACI,MAAM,EAAE,IAAI;qBACZ,MAAM,EAAE,IAAI;kBACf;iBACD;qBACI,MAAM,EAAE,IAAI;qBACZ,OAAO,EAAE,GAAG;qBACZ,MAAM,EAAE,MAAM;kBACjB;cACJ,CAAC;SAIN,QAAQ,GAAG,+BAAqB,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;SAInD,8BAAoB,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;SAI1C,sBAAY,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;SAI9B,MAAM,CAAC,EAAE,CAAC;KACd,CAAC;KAuBD,yBAAM,GAAN,UAAO,GAAW;SAEd,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,eAAe,GAAG,MAAM,GAAG,GAAG,GAAG,YAAY,CAAC;KACrE,CAAC;KAQD,gCAAa,GAAb,UAAc,UAAkB;KAGhC,CAAC;KAOD,+BAAY,GAAZ,UAAa,SAAiB;KAG9B,CAAC;KAMD,uCAAoB,GAApB;KAGA,CAAC;KACL,eAAC;AAAD,EAAC;AA7KY,iBAAQ,WA6KpB;;;;;;;;AC3LD,iCAAgB,CAAW,CAAC;AAC5B,+CAAgC,EAAyC,CAAC;AAC1E,+CAAgD,EAAqB,CAAC;AAGtE;KAEI,sBAAoB,GAAW,EAAU,OAAsB;SAFnE,iBAkEC;SAhEuB,QAAG,GAAH,GAAG,CAAQ;SAAU,YAAO,GAAP,OAAO,CAAe;SAoB/D,gBAAW,GAAG;aAEV,qCAAiB,EAAE,CAAC;aAEpB,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,KAAI,CAAC,WAAW,CAAC,CAAC;aACzD,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,KAAI,CAAC,SAAS,CAAC,CAAC;SACzD,CAAC,CAAC;SAOF,gBAAW,GAAG,UAAC,KAAiB;aAE5B,IAAI,GAAS,CAAC;aAKd,GAAG,GAAG,qDAAiC,CAAC,KAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;aAI7D,aAAG,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;aAC1C,aAAG,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;aAIxC,aAAG,CAAC,MAAM,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;SACvC,CAAC,CAAC;SAOF,cAAS,GAAG;aAER,qCAAiB,CAAC,KAAK,CAAC,CAAC;aAEzB,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,KAAI,CAAC,WAAW,CAAC,CAAC;aAC5D,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,KAAI,CAAC,SAAS,CAAC,CAAC;SAC5D,CAAC;KA5DD,CAAC;KAMD,6BAAM,GAAN;SAEI,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;KACjE,CAAC;KAoDL,mBAAC;AAAD,EAAC;AAlEY,qBAAY,eAkExB;;;;;;;;ACxED,mCAAoB,EAAwB,CAAC;AAO7C,4CAAkD,MAAe,EAAE,KAAiB;KAEhF,IAAI,WAAuB,EACvB,cAAsB,EACtB,cAAsB,EACtB,UAAkB,EAClB,SAAiB,CAAC;KAOtB,WAAW,GAAG,MAAM,CAAC,qBAAqB,EAAE,CAAC;KAI7C,cAAc,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,WAAW,CAAC,IAAI,CAAC,GAAG,WAAW,CAAC,KAAK,CAAC;KACtE,cAAc,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,WAAW,CAAC,GAAG,CAAC,GAAG,WAAW,CAAC,MAAM,CAAC;KAKtE,UAAU,GAAG,aAAK,CAAC,cAAc,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;KACzC,SAAS,GAAG,GAAG,GAAG,aAAK,CAAC,cAAc,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,UAAU,GAAG,GAAG,CAAC,CAAC;KAI/E,MAAM,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,UAAU,EAAE,UAAU,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC;AACvE,EAAC;AA7Be,0CAAiC,oCA6BhD;;;;;;;;ACpCD,kCAAsB,CAA8B,CAAC;AACrD,iCAAgB,CAAW,CAAC;AAE5B;KAII,gBAAoB,GAAW,EAAU,OAAiB;SAJ9D,iBAiDC;SA7CuB,QAAG,GAAH,GAAG,CAAQ;SAAU,YAAO,GAAP,OAAO,CAAU;SAyC1D,gBAAW,GAAG;aAEV,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,eAAe,GAAG,aAAG,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;SACpE,CAAC;KAzCD,CAAC;KAOD,sBAAK,GAAL;SAII,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;SAMjC,EAAE,CAAC,CAAE,CAAE,IAAI,CAAC,OAAO,CAAC;aAAC,MAAM,CAAC;SAI5B,aAAG,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;KAClD,CAAC;KAMD,2BAAU,GAAV;SAEI,MAAM,CAAC,cAAO,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;KACjD,CAAC;KAWL,aAAC;AAAD,EAAC;AAjDY,eAAM,SAiDlB;;;;;;;;ACpDD,kCAAsB,CAA8B,CAAC;AACrD,iCAAgB,CAAW,CAAC;AAC5B,yCAA2B,EAAe,CAAC;AAE3C;KAII,mBAAoB,GAAW,EAAU,OAAiB;SAJ9D,iBAoDC;SAhDuB,QAAG,GAAH,GAAG,CAAQ;SAAU,YAAO,GAAP,OAAO,CAAU;SA4C1D,gBAAW,GAAG;aAEV,KAAI,CAAC,OAAO,CAAC,KAAK,GAAG,aAAG,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;SACpD,CAAC;KA5CD,CAAC;KAOD,yBAAK,GAAL;SAII,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;SAKjC,EAAE,CAAC,CAAE,CAAE,IAAI,CAAC,OAAO,CAAC;aAAC,MAAM,CAAC;SAI5B,IAAI,0BAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,CAAC;SAIxC,aAAG,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;KAClD,CAAC;KAMD,8BAAU,GAAV;SAEI,MAAM,CAAmB,cAAO,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;KACvE,CAAC;KAWL,gBAAC;AAAD,EAAC;AApDY,kBAAS,YAoDrB;;;;;;;;ACzDD,iCAAgB,CAAW,CAAC;AAE5B;KAEI,sBAAoB,OAAyB;SAFjD,iBAgCC;SA9BuB,YAAO,GAAP,OAAO,CAAkB;SAoB7C,mBAAc,GAAG;aAIb,aAAG,CAAC,OAAO,CAAC,YAAY,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;aAI7C,aAAG,CAAC,MAAM,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;SACvC,CAAC,CAAC;KA1BF,CAAC;KAMD,6BAAM,GAAN;SAEI,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;KAChE,CAAC;KAkBL,mBAAC;AAAD,EAAC;AAhCY,qBAAY,eAgCxB;;;;;;;;ACjCD,kCAAsB,CAA2B,CAAC;AAClD,iCAAgB,CAAQ,CAAC;AAEzB;KAII,gBAAoB,GAAU,EAAU,OAAiB;SAArC,QAAG,GAAH,GAAG,CAAO;SAAU,YAAO,GAAP,OAAO,CAAU;KAGzD,CAAC;KAOD,sBAAK,GAAL;SAII,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;SAIjC,IAAI,CAAC,MAAM,EAAE,CAAC;KAClB,CAAC;KAMD,2BAAU,GAAV;SAEI,MAAM,CAAC,cAAO,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;KACjD,CAAC;KAMD,uBAAM,GAAN;SAEI,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAC,KAAiB,IAAK,oBAAG,CAAC,KAAK,CAAC,gBAAgB,EAAE,EAA5B,CAA4B,CAAC,CAAC;KAChG,CAAC;KACL,aAAC;AAAD,EAAC;AA1CY,eAAM,SA0ClB;;;;;;;;AC5CD,iCAAgB,CAAW,CAAC;AAI5B,sCAAuB,EAAY,CAAC;AACpC,yCAAiC,EAAe,CAAC;AACjD,sCAAuB,EAAY,CAAC;AAEpC;KAMI,uBAAoB,GAAW,EAAU,OAAiB;SAAtC,QAAG,GAAH,GAAG,CAAQ;SAAU,YAAO,GAAP,OAAO,CAAU;KAG1D,CAAC;KAMD,6BAAK,GAAL;SAII,IAAI,CAAC,GAAG,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC;SACnD,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;KACpC,CAAC;KAOD,8BAAM,GAAN,UAAO,GAAW;SAEd,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC;KAEvB,CAAC;KAQD,qCAAa,GAAb,UAAc,UAAkB;SAE5B,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,UAAU,CAAC;KACrC,CAAC;KAOD,oCAAY,GAAZ,UAAa,SAAiB;SAE1B,IAAI,CAAC,GAAG,CAAC,SAAS,GAAG,SAAS,CAAC;KACnC,CAAC;KAMD,8BAAM,GAAN,UAAO,GAAkB;KAMzB,CAAC;KAMD,8BAAM,GAAN;SAEI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC;KACpB,CAAC;KAMD,8BAAM,GAAN;SAEI,MAAM,CAAC,mBAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;KAC3E,CAAC;KAOD,oCAAY,GAAZ;SAEI,MAAM,CAAC,sBAAQ,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;KACnC,CAAC;KAOD,oCAAY,GAAZ,UAAa,GAAW;SAEpB,IAAI,GAAS,CAAC;SAId,IAAI,CAAC,GAAG,GAAG,mBAAQ,CAAE,sBAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;SAIpC,aAAG,CAAC,MAAM,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;KACvC,CAAC;KACL,oBAAC;AAAD,EAAC;AAhHY,sBAAa,gBAgHzB;;;;;;;;AC1GD,mBAAyB,CAAS,EAAE,CAAS,EAAE,CAAS;KAEpD,IAAI,CAAS,EACT,CAAS,EACT,CAAS,CAAC;KAId,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CACZ,CAAC;SAIG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAClB,CAAC;KACD,IAAI,CACJ,CAAC;SACG,IAAI,CAAS,EACT,CAAS,CAAC;SAId,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC1C,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAEd,CAAC,GAAG,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,GAAC,CAAC,CAAC,CAAC;SAC5B,CAAC,GAAG,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;SACtB,CAAC,GAAG,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,GAAC,CAAC,CAAC,CAAC;KAChC,CAAC;KAID,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;KACxB,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;KACxB,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;KAIxB,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;AAChC,EAAC;AAvCe,iBAAQ,WAuCvB;AAUD,mBAAkB,CAAS,EAAE,CAAS,EAAE,CAAS;KAE7C,EAAE,EAAC,CAAC,GAAG,CAAC,CAAC;SAAC,CAAC,IAAI,CAAC,CAAC;KACjB,EAAE,EAAC,CAAC,GAAG,CAAC,CAAC;SAAC,CAAC,IAAI,CAAC,CAAC;KACjB,EAAE,EAAC,CAAC,GAAG,CAAC,GAAC,CAAC,CAAC;SAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KACvC,EAAE,EAAC,CAAC,GAAG,CAAC,GAAC,CAAC,CAAC;SAAC,MAAM,CAAC,CAAC,CAAC;KACrB,EAAE,EAAC,CAAC,GAAG,CAAC,GAAC,CAAC,CAAC;SAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;KAE/C,MAAM,CAAC,CAAC,CAAC;AACb,EAAC;;;;;;;;ACxED,uCAA2B,EAAa,CAAC;AAQzC,mBAAyB,GAAS;KAE9B,IAAI,GAAW,CAAC;KAIhB,GAAG,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;KAI/E,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC;AACrB,EAAC;AAXe,iBAAQ,WAWvB;AASD,mBAAyB,GAAW;KAEhC,IAAI,MAAc,EACd,CAAS,EACT,CAAS,EACT,CAAS,CAAC;KAId,GAAG,GAAG,wBAAY,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,CAAC;KAI5C,MAAM,GAAG,QAAQ,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;KAC3B,CAAC,GAAG,CAAC,MAAM,IAAI,EAAE,CAAC,GAAG,GAAG,CAAC;KACzB,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC;KACxB,CAAC,GAAG,MAAM,GAAG,GAAG,CAAC;KAIjB,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;AAChC,EAAC;AArBe,iBAAQ,WAqBvB;AASD,6BAAmC,GAAW;KAE1C,IAAI,MAAc,CAAC;KAInB,MAAM,GAAG,kCAAkC,CAAC;KAI5C,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,UAAS,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;SAE1C,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KACjC,CAAC,CAAC,CAAC;AACP,EAAC;AAde,2BAAkB,qBAcjC;;;;;;;;ACrED,qBAA2B,GAAW;KAElC,IAAI,UAAoB,CAAC;KAKzB,EAAE,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;SAAC,MAAM,CAAC,GAAG,CAAC;KAI9B,UAAU,GAAG,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;KAI3B,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;KAIxB,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AAC/B,EAAC;AApBe,mBAAU,aAoBzB;AAOD,uBAA6B,GAAW;KAEpC,IAAI,UAAoB,CAAC;KAKzB,EAAE,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,KAAK,CAAC;SAAC,MAAM,CAAC,GAAG,CAAC;KAIxC,UAAU,GAAG,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;KAI3B,UAAU,CAAC,KAAK,EAAE,CAAC;KAInB,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AAC/B,EAAC;AApBe,qBAAY,eAoB3B;AAQD,mBAAkB,GAAW;KAEzB,IAAI,UAAoB,CAAC;KAIzB,UAAU,GAAG,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;KAK3B,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC;AACjC,EAAC;;;;;;;;ACxDD,mBAAyB,GAAS;KAE9B,IAAI,GAAW,EACX,GAAW,EACX,CAAS,EACT,CAAS,EACT,CAAS,EACT,CAAS,EACT,CAAS,EACT,CAAS,EACT,CAAS,CAAC;KAId,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;KAChB,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;KAChB,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;KAIhB,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;KACxB,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;KACxB,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;KAE5B,EAAE,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,CACf,CAAC;SACG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KACd,CAAC;KACD,IAAI,CACJ,CAAC;SACG,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC;SAEd,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;SAEpD,MAAM,EAAC,GAAG,CAAC,CACX,CAAC;aACG,KAAK,CAAC;iBAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;iBAAC,KAAK,CAAC;aACjD,KAAK,CAAC;iBAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;iBAAC,KAAK,CAAC;aACnC,KAAK,CAAC;iBAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;iBAAC,KAAK,CAAC;SACvC,CAAC;SAED,CAAC,IAAI,CAAC,CAAC;KACX,CAAC;KAED,MAAM,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC;AACnD,EAAC;AA7Ce,iBAAQ,WA6CvB;;;;;;;;AC5DD,KAAY,OAAO,uBAAM,EAAS,CAAC;AAEnC;KAII,gBAAoB,GAAW,EAAU,OAAiB;SAAtC,QAAG,GAAH,GAAG,CAAQ;SAAU,YAAO,GAAP,OAAO,CAAU;KAG1D,CAAC;KAOD,sBAAK,GAAL;SAEI,IAAI,CAAC,YAAY,GAAG,IAAI,OAAO,CAAC,MAAM,EAAE,CAAC;KAC7C,CAAC;KACL,aAAC;AAAD,EAAC;AAlBY,eAAM,SAkBlB;;;;;;;ACrBD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB,qBAAoB,EAAE;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,qBAAoB,cAAc;AAClC;AACA;AACA;AACA,UAAS;;AAET;AACA,qBAAoB,QAAQ;AAC5B;AACA;AACA;AACA,UAAS;;AAET;AACA,qBAAoB,QAAQ;AAC5B;AACA;AACA;AACA,UAAS;;AAET;AACA,qBAAoB,SAAS;AAC7B;AACA;AACA;AACA,UAAS;;AAET;AACA,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA,gEAA+D,GAAG,wCAAwC,GAAG;AAC7G;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,SAAS;AAC5B,oBAAmB,QAAQ;AAC3B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,qBAAoB;AACpB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAS;;AAET;AACA,oBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA,iBAAgB,KAAK,EAAE;AACvB;AACA,UAAS;;AAET;AACA,oBAAmB,SAAS;AAC5B,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA,oBAAmB,SAAS;AAC5B,oBAAmB,OAAO;AAC1B,qBAAoB,QAAQ;AAC5B;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA,oBAAmB,SAAS;AAC5B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,qBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA,oBAAmB,SAAS;AAC5B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,qBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA,oBAAmB,SAAS;AAC5B,oBAAmB,OAAO;AAC1B,qBAAoB,SAAS;AAC7B;AACA;AACA;;AAEA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA,oBAAmB,KAAK;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,+CAA8C;AAC9C,0CAAyC;;AAEzC;AACA;AACA,iBAAgB,KAAK,EAAE;AACvB,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA,cAAmD;AACnD,wDAA4B,gBAAgB,EAAE;AAC9C,MAAK,2DAA2D;AAChE;AACA,MAAK,OAAO;AACZ;AACA;AACA;AACA;;AAEA,EAAC","file":"picky.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Picky\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Picky\"] = factory();\n\telse\n\t\troot[\"Picky\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 65c37b7bcff52216731d\n **/","/// <reference path=\"../../typings/index.d.ts\" />\n\nimport {IOptions} from 'picky';\nimport * as picky from 'picky';\nimport {Popup} from \"./popup/Popup\";\nimport {Toggle} from \"./toggle/Toggle\";\nimport App from \"./App\";\nimport {getUniqueId} from \"./utils/UniqueId\";\nimport {ColourPalette} from \"./utils/colour/ColourPalette\";\nimport {Events} from \"./events/Events\";\n\nexport class ColourPicker\n{\n    iid: string;\n    element: HTMLElement;\n\n    constructor(options: IOptions)\n    {\n        console.log('new picky!');\n\n        //  set up this instance\n\n        this.setup(options);\n    }\n\n    \n    \n    /**\n     * setup a new instance\n     */\n    setup(options: IOptions)\n    {\n        //  generate a unique ID for this instance\n\n        this.iid = getUniqueId('picky-');\n\n        //  create class instances for our various colour picker components\n        \n        App.events = new Events(this.iid, options);\n        App.palette = new ColourPalette(this.iid, options);\n        App.popup = new Popup(this.iid, options);\n        App.toggle = new Toggle(this.iid, options);\n        \n        //  initialise instances\n        \n        App.events.setup();\n        App.palette.setup();\n        App.toggle.setup();\n        App.popup.setup();\n    }\n\n\n    /**\n     * shortcut to properties for external access\n     * @returns {picky.Events}\n     */\n    get onUpdate() : Signal\n    {\n        return App.events.updateColour;\n    }\n    get hex() : string\n    {\n        return App.palette.getHexString();\n    }\n\n\n    /**\n     * destroy this instance\n     */\n    destroy()\n    {\n\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/ColourPicker.ts\n **/","import {IOptions} from \"picky\";\nimport {findOne} from \"../utils/dom/element/Find\";\nimport App from \"../App\";\nimport Css from \"../utils/dom/style/Css\";\nimport {HuePane} from \"./hue-pane/HuePane\";\nimport {TonePane} from \"./tone-pane/TonePane\";\nimport {Swatch} from \"./swatch/Swatch\";\nimport {TextInput} from \"./text-input/TextInput\";\n\n\nexport class Popup\n{\n    element: HTMLElement;\n    \n    constructor(private iid:string, private options: IOptions)\n    {\n        \n    }\n    \n    \n    /**\n     * set up the colour picker popup;\n     * this displays the colour selection to pick from\n     */\n    setup()\n    {\n        //  create the popup element\n        \n        this.element = this.getElement();\n        \n        //  create the hue and tint colour panes class instances\n        \n        App.swatch = new Swatch(this.iid, this.options);\n        App.textInput = new TextInput(this.iid, this.options);\n        App.tonePane = new TonePane(this.iid, this.options);\n        App.huePane = new HuePane(this.iid, this.options);\n\n        //  setup colour panes\n        \n        App.swatch.setup();\n        App.textInput.setup();\n        App.tonePane.setup();\n        App.huePane.setup();\n    }\n\n\n    /**\n     * get the element for the popup\n     */\n    getElement()\n    {\n        var element: HTMLElement;\n\n        //  if the user has provided a selector for the popup,\n        //  let's try to find the element\n        //  and use it if we find something\n        \n        element = findOne(this.options.elements.popup);\n        \n        if (element) return element;\n        \n        //  if nothing's found then let's create a new popup element inside the toggle button\n        \n        return this.createElement();\n    }\n\n\n    /**\n     * create the popup element with the targeted toggle element\n     */\n    createElement() : HTMLElement\n    {\n        var element: HTMLElement;\n\n        //  create a new popup element\n\n        element = document.createElement('div');\n        \n        //  add class to the popup\n        \n        Css.addClass(element, 'picky-popup');\n\n        //  place our new element on the page;\n        //  this code inserts it after the toggle element\n\n        App.toggle.element.parentNode.insertBefore(element, App.toggle.element.nextSibling);\n        \n        return element;\n    }\n\n\n    /**\n     * toggle popup visibility\n     */\n    toggleVisibility()\n    {\n        //  toggle the 'active' class on the element\n        \n        Css.toggleClass(this.element, 'active');\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/Popup.ts\n **/","import {trimString}  from \"../../string/StringUtils\";\n\n/**\n * find an element by class or id\n * (or identify if we've been given a jQuery object)\n * @param selector\n */\nexport function findAny(selector: any) : HTMLElement | NodeList\n{\n    //  check we've been given a valid selector\n\n    if ( ! selector) return null;\n\n    //  check if we've been given an id or a class\n\n    if (~selector.indexOf('#')) return findById(selector);\n    if (~selector.indexOf('.')) return findByClass(selector);\n\n    return null;\n}\n\n\n/**\n * find the first matching element\n * @param selector\n */\nexport function findOne(selector: any) : HTMLElement\n{\n    var result: HTMLElement | NodeList;\n\n    //  find the element(s) with the matching selector\n\n    result = findAny(selector);\n\n    //  if no matching element is found then return null\n\n    if ( ! result) return null;\n\n    //  if the result is a single element then return it\n\n    if (result instanceof HTMLElement) return result;\n\n    //  otherwise return the first matching instance\n\n    return <HTMLElement>(<NodeList>result).item(0);\n}\n\n\n/**\n * find elements by class\n */\nexport function findByClass(className: string) : NodeList\n{\n    return <NodeList>document.getElementsByClassName( trimString(className, 1));\n}\n\n\n/**\n * find an element by its id\n */\nexport function findById(id: string) : HTMLElement\n{\n    return document.getElementById( trimString(id, 1));\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/dom/element/Find.ts\n **/","/**\n * trim a string\n * @param input\n * @param start\n * @param end\n * @returns {string}\n */\nexport function trimString(input: string, start?: number, end?: number) : string\n{\n    var output: string,\n        split: string[];\n\n    //  trimString trailing spaces\n\n    output = input.trim();\n\n    //  do we want to remove any characters from the string?\n\n    if ( ! start && ! end) return output;\n\n    //  if so, split string into an array of characters\n\n    split = output.split('');\n\n    //  remove N characters from the start and end\n\n    split.splice(0, start);\n    split.splice(-1, end);\n\n    //  and return the re-joined string\n\n    return split.join('');\n}\n\n\n/**\n * add padding characters to the start of a string\n * until it reaches the required length\n * @param input\n * @param prefix\n * @param length\n */\nexport function prefixString(input: string, prefix: string, length: number = input.length + 1)\n{\n    var characters: string[];\n\n    //  split string into array\n\n    characters = input.split('');\n\n    //  add prefixes until we reach the required length\n\n    while(characters.length < length)\n    {\n        characters.unshift(prefix);\n    }\n    \n    //  once we've reached the required length,\n    //  join and return the string\n    \n    return characters.join('');\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/string/StringUtils.ts\n **/","import * as picky from 'picky';\n\nexport default class App\n{\n    static toggle: picky.Toggle;\n    static events: picky.Events;\n    static popup: picky.Popup;\n    static palette: picky.ColourPalette;\n    static huePane: picky.HuePane;\n    static tonePane: picky.TonePane;\n    static swatch: picky.Swatch;\n    static textInput: picky.TextInput;\n    \n    constructor()\n    {\n        \n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/App.ts\n **/","class Css\n{\n    constructor()\n    {\n\n    }\n\n\n    /**\n     * add a CSS class to an element\n     * @param element\n     * @param className\n     */\n    static addClass(element: Element, className: string)\n    {\n        //  check we have a valid element\n\n        if ( ! element) return false;\n\n        //  add class name to list\n\n        element.classList.add(className);\n    }\n\n\n    /**\n     * remove a CSS class from an element\n     * @param element\n     * @param className\n     * @returns {boolean}\n     */\n    static removeClass(element: HTMLElement, className: string)\n    {\n        //  check we have a valid element\n\n        if ( ! element) return false;\n\n        //  remove class name from list\n\n        element.classList.remove(className);\n    }\n\n\n    /**\n     * toggle the presence of a CSS class on an element\n     * @param element\n     * @param className\n     * @param toggle\n     */\n    static toggleClass(element: HTMLElement, className: string, toggle?: boolean)\n    {\n        // if (toggle !== undefined)\n        // {\n        //\n        // }\n\n        //TODO  allow manual override of toggle value\n\n        if (Css.hasClass(element, className) === false)\n        {\n            Css.addClass(element, className);\n        }\n        else\n        {\n            Css.removeClass(element, className)\n        }\n    }\n\n\n    /**\n     * check if an element already has a particular class name\n     * @param element\n     * @param className\n     * @returns {any}\n     */\n    static hasClass(element: HTMLElement, className: string) : boolean\n    {\n        //  check we have a valid element\n        \n        if ( ! element) return false;\n        \n        //  check whether the element's class list contains the provided class name\n        \n        return element.classList.contains(className);\n    }\n}\n\nexport default Css;\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/dom/style/Css.ts\n **/","import {IOptions, IGradientStop} from \"picky\";\n\nimport {findOne} from \"../../utils/dom/element/Find\";\nimport App from \"../../App\";\nimport Css from \"../../utils/dom/style/Css\";\nimport CreateGradientElement from \"../svg/CreateGradientElement\";\nimport SetGradientDirection from \"../svg/SetGradientDirection\";\nimport FillGradient from \"../svg/FillGradient\";\nimport CreateColourRect from \"../svg/CreateColourRect\";\nimport {Interactions} from './Interactions';\nimport {getUniqueId} from \"../../utils/UniqueId\";\nimport {fillContainer} from \"../../utils/dom/style/FillContainer\";\n\nexport class HuePane\n{\n    element: SVGSVGElement;\n\n    constructor(private iid:string, private options: IOptions)\n    {\n\n    }\n\n\n    /**\n     * set up the toggle button;\n     * this is what the user will click to open/close the colour picker popup\n     */\n    setup()\n    {\n        //  get the specified element for the toggle button\n\n        this.element = this.createGradientElement();\n\n        //  create rectangle element and fill with the gradient\n\n        CreateColourRect(this.element, this.drawGradient());\n        \n        //  add interaction listeners to the element\n        \n        new Interactions(this.element).listen();\n    }\n    \n    \n    /**\n     * create the element for the hue pane\n     */\n    createGradientElement() : SVGSVGElement\n    {\n        var element: SVGSVGElement;\n\n        //  create the new element\n\n        element = <SVGSVGElement>document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\n        //  add the relevant class\n        \n        Css.addClass(element, 'picky-hue-pane__palette');\n        \n        //  make the element fill its container\n\n        fillContainer(element);\n        \n        //  append the new element to the popup element\n        \n        this.getContainer().appendChild(element);\n        \n        //  return the new element\n        \n        return element;\n    }\n\n\n    /**\n     * find the container element for the gradient\n     */\n    getContainer() : HTMLElement\n    {\n        return findOne(this.options.elements.hue_pane);\n    }\n\n\n    /**\n     * draw a rainbow gradient in the hue panel\n     */\n    drawGradient() : string\n    {\n        var id: string,\n            gradient: SVGGradientElement,\n            stops: IGradientStop[];\n\n        //  create a unique id for the gradient\n\n        id = getUniqueId('picky-svg-gradient-');\n        \n        //  set the colours we're going to use in the gradient\n\n        stops = \n            [\n                {\n                    colour: '#ff0000',\n                    offset: '0%'\n                },\n                {\n                    colour: '#ff00ff',\n                    offset: '16%'\n                },\n                {\n                    colour: '#0000ff',\n                    offset: '33%'\n                },\n                {\n                    colour: '#00ffff',\n                    offset: '50%'\n                },\n                {\n                    colour: '#00ff00',\n                    offset: '67%'\n                },\n                {\n                    colour: '#ffff00',\n                    offset: '84%'\n                },\n                {\n                    colour: '#ff0000',\n                    offset: '100%'\n                }\n            ];\n        \n        //  create a gradient within the svg element\n\n        gradient = CreateGradientElement(this.element, id);\n\n        //  set the gradient direction\n\n        SetGradientDirection(gradient, ['0', '0', '0', '100%']);\n\n        //  populate the gradient with the required colours\n\n        FillGradient(gradient, stops);\n\n        //  return the gradient's id\n\n        return id;\n    }\n\n\n    /**\n     * set the currently selected hue\n     * @param hue\n     */\n    setHue(hue: number)\n    {\n        //TODO  move the selection indicator to the current hue position\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/hue-pane/HuePane.ts\n **/","/**\n * create and append an SVG gradient\n * @param svg\n */\nexport default (svg: SVGSVGElement, id: string, type: string = 'linearGradient') =>\n{\n    var svg_ns: string,\n        defs: SVGDefsElement,\n        gradient: SVGGradientElement;\n    \n    //  get SVG namespace\n\n    svg_ns = svg.namespaceURI;\n    \n    //  create and append defs element\n    \n    defs = <SVGDefsElement>(svg.querySelector('defs') || svg.insertBefore( document.createElementNS(svg_ns, 'defs'), svg.firstChild));\n    \n    //  create the gradient\n\n    gradient = <SVGGradientElement>document.createElementNS(svg_ns, type);\n    \n    //  add an id (we need this to set the gradient as the fill of an element later)\n    \n    gradient.setAttribute('id', id);\n\n    //  set direction\n\n    gradient.setAttribute('x1', '0%');\n    gradient.setAttribute('y1', '0%');\n    gradient.setAttribute('x2', '0%');\n    gradient.setAttribute('y2', '100%');\n\n    //  append the gradient to the SVG defs\n    \n    defs.appendChild(gradient);\n\n    //  return the gradient\n    \n    return gradient;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/svg/CreateGradientElement.ts\n **/","/**\n * create and append an SVG gradient\n * @param svg\n */\nexport default (gradient: SVGGradientElement, points: string[]) =>\n{\n    //  set direction\n\n    gradient.setAttribute('x1', points[0]);\n    gradient.setAttribute('y1', points[1]);\n    gradient.setAttribute('x2', points[2]);\n    gradient.setAttribute('y2', points[3]);\n\n    //  return the gradient\n\n    return gradient;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/svg/SetGradientDirection.ts\n **/","import {IGradientStop} from \"picky\";\n\n/**\n * populate a gradient with the given colour stops\n * @param gradient\n * @param stops\n */\nexport default (gradient: SVGGradientElement, stops: IGradientStop[]) =>\n{\n    var svg_ns: string,\n        stop: SVGStopElement;\n\n    //  get SVG namespace\n\n    svg_ns = gradient.parentElement.namespaceURI;\n\n    for (var i: number = 0; i < stops.length; i ++)\n    {\n        //  create a new stop element\n\n        stop = <SVGStopElement>document.createElementNS(svg_ns, 'stop');\n\n        //  set the stop's colour and position within the gradient\n\n        stop.setAttribute('offset', stops[i].offset);\n        stop.setAttribute('stop-color', stops[i].colour);\n        stop.setAttribute('stop-opacity', stops[i].opacity || '1');\n\n        //  append the stop to the gradient\n\n        gradient.appendChild(stop);\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/svg/FillGradient.ts\n **/","/**\n * create and append an SVG gradient\n * @param svg\n */\nexport default (svg: SVGSVGElement, gradient_id: string) =>\n{\n    var rect: SVGRectElement;\n\n    //  create the new rect element\n\n    rect = <SVGRectElement>document.createElementNS(svg.namespaceURI, 'rect');\n\n    //  make it fill the container\n\n    rect.setAttribute('x', '0');\n    rect.setAttribute('y', '0');\n    rect.setAttribute('width', '100%');\n    rect.setAttribute('height', '100%');\n\n    //  fill it with the gradient\n\n    rect.setAttribute('fill', 'url(#' + gradient_id + ')');\n\n    //  add the rect to the page\n\n    svg.appendChild(rect);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/svg/CreateColourRect.ts\n **/","import App from \"../../App\";\nimport {getHueAtCursor} from \"./GetHueAtCursor\";\nimport {preventSelections} from \"../../utils/dom/style/PreventSelections\";\n\nexport class Interactions\n{\n    constructor(private element: SVGSVGElement)\n    {\n        \n    }\n\n\n    /**\n     * listen for interactions\n     */\n    listen()\n    {\n        this.element.addEventListener('mousedown', this.onMouseDown);\n    }\n\n\n    /**\n     * when the user presses the mouse down,\n     * get the hue at the current position\n     * and start listening for further interactions\n     */\n    onMouseDown = () =>\n    {\n        preventSelections();\n\n        document.addEventListener('mousemove', this.onMouseMove);\n        document.addEventListener('mouseup', this.onMouseUp);\n    };\n\n\n    /**\n     * when the user moves the mouse,\n     * get the hue under the cursor\n     */\n    onMouseMove = (event: MouseEvent) =>\n    {\n        var hue: number;\n        \n        //  get the current hue,\n        //  based on the user's mouse position\n        \n        hue = getHueAtCursor(this.element, event);\n\n        //  set the new hue\n\n        App.palette.setHue(hue);\n\n        //  dispatch a colour update event\n\n        App.events.updateColour.dispatch();\n    };\n\n\n    /**\n     * when the user releases the mouse,\n     * stop tracking the hue under the cursor\n     */\n    onMouseUp = () =>\n    {\n        preventSelections(false);\n\n        document.removeEventListener('mousemove', this.onMouseMove);\n        document.removeEventListener('mouseup', this.onMouseUp);\n    };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/hue-pane/Interactions.ts\n **/","import App from \"../../App\";\nimport {clamp} from \"../../utils/math/Clamp\";\n\n/**\n * get the colour under the user's cursor\n * @param event\n */\nexport function getHueAtCursor(target: Element, event: MouseEvent) : number\n{\n    var client_rect: ClientRect,\n        mouse_offset: number,\n        hue: number;\n\n    //  assume y offset is the one we want for now\n    //TODO  add optional X offset so we could have a horizontal hue slider if needed\n\n    //  get element bounding rect\n\n    client_rect = target.getBoundingClientRect();\n\n    //  calculate the offset of the mouse within the clicked element\n\n    mouse_offset = event.pageY - client_rect.top;\n\n    //  limit off set to between zero - rect height\n\n    mouse_offset = clamp(mouse_offset, 0, client_rect.height);\n    \n    //  and translate to hue\n    \n    hue = 1 - (mouse_offset / client_rect.height);\n    \n    //  return the hue\n    \n    return hue;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/hue-pane/GetHueAtCursor.ts\n **/","/**\n * clamp a number between min and max values\n * @param n\n * @param min\n * @param max\n * @returns {number}\n */\nexport function clamp(n: number, min: number, max: number)\n{\n    return Math.max(min, Math.min(n, max));\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/math/Clamp.ts\n **/","export function preventSelections(preventSelections: boolean = true)\n{\n    var styles: string[],\n        value: string;\n\n    //  create a list of all the non-editable styles\n\n    styles =\n        [\n            'webkitTouchCallout',\n            'webkitUserSelect',\n            'mozUserSelect',\n            'msUserSelect',\n            'userSelect'\n        ];\n\n    //  get the value we want to set\n\n    value = preventSelections === true ? 'none' : '';\n\n    //  add or remove all styles\n\n    for (var i: number = 0; i < styles.length; i++)\n    {\n        document.body.style[ <any>styles[i]] = value;\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/dom/style/PreventSelections.ts\n **/","export function getUniqueId(prefix: string = '') : string\n{\n    return prefix + Math.random() * 10;\n    // return prefix + new Date().getTime();\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/UniqueId.ts\n **/","/**\n * make an element fill its container\n * @param element\n */\nexport function fillContainer(element: HTMLElement | any)\n{\n    element.style.position = 'absolute';\n    element.style.top = '0px';\n    element.style.left = '0px';\n    element.style.width = '100%';\n    element.style.height = '100%';\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/dom/style/FillContainer.ts\n **/","import {IOptions, IGradientStop} from \"picky\";\n\nimport {} from \"../../utils/dom/element/Find\";\nimport App from \"../../App\";\nimport Css from \"../../utils/dom/style/Css\";\nimport CreateGradientElement from \"../svg/CreateGradientElement\";\nimport SetGradientDirection from \"../svg/SetGradientDirection\";\nimport FillGradient from \"../svg/FillGradient\";\nimport CreateColourRect from \"../svg/CreateColourRect\";\nimport {Interactions} from './Interactions';\nimport {getUniqueId} from \"../../utils/UniqueId\";\nimport {IHSL} from \"picky\";\nimport {ColourPalette} from \"picky\";\nimport {findOne} from \"../../utils/dom/element/Find\";\nimport {fillContainer} from \"../../utils/dom/style/FillContainer\";\n\nexport class TonePane\n{\n    element: SVGSVGElement;\n\n    constructor(private iid:string, private options: IOptions)\n    {\n\n    }\n\n\n    /**\n     * set up the toggle button;\n     * this is what the user will click to open/close the colour picker popup\n     */\n    setup()\n    {\n        //  get the specified element for the toggle button\n\n        this.element = this.createGradientElement();\n\n        //  create rectangle element and fill with the gradient\n\n        CreateColourRect(this.element, this.drawGradient('#ffffff', ['0', '0', '100%', '0']));\n        CreateColourRect(this.element, this.drawGradient('#000000', ['0', '100%', '0', '0']));\n\n        //  add interaction listeners to the element\n\n        new Interactions(this.iid, this.element).listen();\n\n        //  listen for signals\n\n        App.events.updateColour.add(this.onColourSet);\n    }\n\n\n    /**\n     * create the element for the tone pane\n     */\n    createGradientElement() : SVGSVGElement\n    {\n        var element: SVGSVGElement;\n\n        //  create the new element\n\n        element = <SVGSVGElement>document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\n        //  add the relevant class\n\n        Css.addClass(element, 'picky-tone-pane__palette');\n        \n        //  make the element fill its container\n\n        fillContainer(element);\n\n        //  append the new element to the popup element\n\n        this.getContainer().appendChild(element);\n\n        //  return the new element\n\n        return element;\n    }\n\n\n    /**\n     * find the container element for the gradient\n     */\n    getContainer() : HTMLElement\n    {\n        return findOne(this.options.elements.tone_pane);\n    }\n\n\n    /**\n     * draw a gradient in the tone panel\n     */\n    drawGradient(fill: string, direction: string[]) : string\n    {\n        var id: string,\n            gradient: SVGGradientElement,\n            stops: IGradientStop[];\n\n        //  create a unique id for the gradient\n\n        id = getUniqueId('picky-svg-gradient-');\n\n        //  set the colours we're going to use in the gradient\n\n        stops =\n            [\n                {\n                    colour: fill,\n                    offset: '0%'\n                },\n                {\n                    colour: fill,\n                    opacity: '0',\n                    offset: '100%'\n                }\n            ];\n\n        //  create a gradient within the svg element\n\n        gradient = CreateGradientElement(this.element, id);\n\n        //  set the gradient direction\n\n        SetGradientDirection(gradient, direction);\n\n        //  populate the gradient with the required colours\n\n        FillGradient(gradient, stops);\n\n        //  return the gradient's id\n\n        return id;\n    }\n\n\n    /**\n     * when the active colour is changed,\n     * reflect that colour in the UI\n     */\n    onColourSet = () =>\n    {\n        //  the hue is provided\n\n        this.setHue(App.palette.hsl.hue * 360);\n        \n        //if (colour.hue) this.setHue(colour.hue);\n        // if (colour.saturation) this.setSaturation(colour.saturation);\n        // if (colour.lightness) this.setLightness(colour.lightness);\n    };\n\n\n    /**\n     * set the visible hue in the tone pane element\n     * @param hue\n     */\n    setHue(hue: number)\n    {\n        this.element.style.backgroundColor = 'hsl(' + hue + ',100%,50%)';\n    }\n\n\n    /**\n     * set the current saturation\n     * @param saturation\n     * @param lightness\n     */\n    setSaturation(saturation: number)\n    {\n        \n    }\n\n\n    /**\n     * set the current lightness\n     * @param lightness\n     */\n    setLightness(lightness: number)\n    {\n        \n    }\n\n\n    /**\n     * combine H, S and L into a single colour\n     */\n    getCombinedHSLColour()\n    {\n        \n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/tone-pane/TonePane.ts\n **/","// import GetHueAtCursor from './GetHueAtCursor';\n\nimport App from \"../../App\";\nimport {preventSelections} from \"../../utils/dom/style/PreventSelections\";\nimport {getSaturationAndLightnessAtCursor} from \"./GetColourAtCursor\";\nimport {IHSL} from \"picky\";\n\nexport class Interactions\n{\n    constructor(private iid: string, private element: SVGSVGElement)\n    {\n        \n    }\n\n\n    /**\n     * listen for interactions\n     */\n    listen()\n    {\n        this.element.addEventListener('mousedown', this.onMouseDown);\n    }\n\n\n    /**\n     * when the user presses the mouse down,\n     * get the hue at the current position\n     * and start listening for further interactions\n     */\n    onMouseDown = () =>\n    {\n        preventSelections();\n\n        document.addEventListener('mousemove', this.onMouseMove);\n        document.addEventListener('mouseup', this.onMouseUp);\n    };\n\n\n    /**\n     * when the user moves the mouse,\n     * get the hue under the cursor\n     */\n    onMouseMove = (event: MouseEvent) =>\n    {\n        var hsl: IHSL;\n        \n        //  get the current saturation and lightness,\n        //  based on the user's mouse position\n\n        hsl = getSaturationAndLightnessAtCursor(this.element, event);\n        \n        //  set saturation and lightness in the colour palette\n\n        App.palette.setSaturation(hsl.saturation);\n        App.palette.setLightness(hsl.lightness);\n        \n        //  dispatch an update event\n        \n        App.events.updateColour.dispatch();\n    };\n\n\n    /**\n     * when the user releases the mouse,\n     * stop tracking the hue under the cursor\n     */\n    onMouseUp = () =>\n    {\n        preventSelections(false);\n\n        document.removeEventListener('mousemove', this.onMouseMove);\n        document.removeEventListener('mouseup', this.onMouseUp);\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/tone-pane/Interactions.ts\n **/","import App from \"../../App\";\nimport {clamp} from \"../../utils/math/Clamp\";\nimport {IHSL} from \"picky\";\n\n/**\n * get the colour under the user's cursor\n * @param event\n */\nexport function getSaturationAndLightnessAtCursor(target: Element, event: MouseEvent) : IHSL\n{\n    var client_rect: ClientRect,\n        mouse_offset_x: number,\n        mouse_offset_y: number,\n        saturation: number,\n        lightness: number;\n    \n    //  assume y offset is the one we want for now\n    //TODO  add optional X offset so we could have a horizontal hue slider if needed\n    \n    //  get element bounding rect\n    \n    client_rect = target.getBoundingClientRect();\n    \n    //  calculate the offset of the mouse within the clicked element\n\n    mouse_offset_x = (event.pageX - client_rect.left) / client_rect.width;\n    mouse_offset_y = (event.pageY - client_rect.top) / client_rect.height;\n\n    //  clamp offsets between 0-1\n    //  lightness is a bit tricky because it's affected by both the X and Y axes;\n\n    saturation = clamp(mouse_offset_x, 0, 1);\n    lightness = 0.5 - clamp(mouse_offset_y, 0, 1) * 0.5 + (0.5 - saturation * 0.5);\n\n    //  return S and L in an object\n    \n    return { hue: null, saturation: saturation, lightness: lightness };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/tone-pane/GetColourAtCursor.ts\n **/","import {IOptions} from \"picky\";\nimport {findOne} from \"../../utils/dom/element/Find\";\nimport App from \"../../App\";\n\nexport class Swatch\n{\n    element: HTMLElement;\n\n    constructor(private iid: string, private options: IOptions)\n    {\n\n    }\n\n\n    /**\n     * set up the colour swatch instance;\n     * this displays the colour that the user has currently selected\n     */\n    setup()\n    {\n        //  create the popup element\n\n        this.element = this.getElement();\n        \n        //  do we have an element?\n        //  if not then the user probably hasn't supplied a selector,\n        //  which means we don't need a swatch\n\n        if ( ! this.element) return;\n\n        //  listen for signals\n\n        App.events.updateColour.add(this.onColourSet);\n    }\n\n\n    /**\n     * find the swatch element, if one exists\n     */\n    getElement() : HTMLElement\n    {\n        return findOne(this.options.elements.swatch);\n    }\n\n\n    /**\n     * when the selected colour changes,\n     * display it in the swatch\n     */\n    onColourSet = () =>\n    {\n        this.element.style.backgroundColor = App.palette.getHexString();\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/swatch/Swatch.ts\n **/","import {IOptions} from \"picky\";\nimport {findOne} from \"../../utils/dom/element/Find\";\nimport App from \"../../App\";\nimport {Interactions} from \"./Interaction\";\n\nexport class TextInput\n{\n    element: HTMLInputElement;\n\n    constructor(private iid: string, private options: IOptions)\n    {\n\n    }\n\n\n    /**\n     * set up the colour swatch instance;\n     * this displays the colour that the user has currently selected\n     */\n    setup()\n    {\n        //  create the popup element\n\n        this.element = this.getElement();\n        \n        //  do we have an input element?\n        //  if not, stop here\n        \n        if ( ! this.element) return;\n        \n        //  add interaction listeners to the element\n\n        new Interactions(this.element).listen();\n\n        //  listen for signals\n\n        App.events.updateColour.add(this.onColourSet);\n    }\n\n\n    /**\n     * find the swatch element, if one exists\n     */\n    getElement() : HTMLInputElement\n    {\n        return <HTMLInputElement>findOne(this.options.elements.text_input);\n    }\n\n\n    /**\n     * when the selected colour changes,\n     * display it in the swatch\n     */\n    onColourSet = () =>\n    {\n        this.element.value = App.palette.getHexString();\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/text-input/TextInput.ts\n **/","import App from \"../../App\";\n\nexport class Interactions\n{\n    constructor(private element: HTMLInputElement)\n    {\n\n    }\n\n\n    /**\n     * listen for interactions\n     */\n    listen()\n    {\n        this.element.addEventListener('input', this.onContentInput);\n    }\n\n\n    /**\n     * when the user presses the mouse down,\n     * get the hue at the current position\n     * and start listening for further interactions\n     */\n    onContentInput = () =>\n    {\n        //  set the new hue\n\n        App.palette.setHexString(this.element.value);\n\n        //  dispatch a colour update event\n\n        App.events.updateColour.dispatch();\n    };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/popup/text-input/Interaction.ts\n **/","import {IOptions} from \"picky\";\nimport {findOne} from \"../utils/dom/element/Find\";\nimport App from \"../App\";\n\nexport class Toggle\n{\n    element: HTMLElement;\n    \n    constructor(private iid:string, private options: IOptions)\n    {\n\n    }\n\n\n    /**\n     * set up the toggle button;\n     * this is what the user will click to open/close the colour picker popup\n     */\n    setup()\n    {\n        //  get the specified element for the toggle button\n        \n        this.element = this.getElement();\n\n        //  add interaction listeners\n\n        this.listen();\n    }\n\n\n    /**\n     * get the element for the toggle\n     */\n    getElement()\n    {\n        return findOne(this.options.elements.toggle);\n    }\n\n\n    /**\n     * listen for interactions and events\n     */\n    listen()\n    {\n        this.element.addEventListener('click', (event: MouseEvent) => App.popup.toggleVisibility());\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/toggle/Toggle.ts\n **/","import {IOptions, IGradientStop} from \"picky\";\n\nimport App from \"../../App\";\nimport {IRGB} from \"picky\";\n// import {isRgbString} from \"./Validator\";\nimport {IHSL} from \"picky\";\nimport {hslToRgb} from \"./HslToRgb\";\nimport {rgbToHex, hexToRgb} from \"./RgbToString\";\nimport {rgbToHsl} from \"./RgbToHsl\";\n\nexport class ColourPalette\n{\n    element: SVGSVGElement;\n    hsl: IHSL;\n    rgb: IRGB;\n\n    constructor(private iid: string, private options: IOptions)\n    {\n\n    }\n\n\n    /**\n     * set up palette instance\n     */\n    setup()\n    {\n        //  set base colour values\n        \n        this.hsl = { hue: 0, saturation: 0, lightness: 0 };\n        this.rgb = { r: 0, g: 0, b: 0 };\n    }\n    \n\n    /**\n     * set the currently selected hue\n     * @param hue\n     */\n    setHue(hue: number)\n    {\n        this.hsl.hue = hue;\n        // this.element.style.backgroundColor = 'hsl(' + hue + ',100%,50%)';\n    }\n\n\n    /**\n     * set the current saturation\n     * @param saturation\n     * @param lightness\n     */\n    setSaturation(saturation: number)\n    {\n        this.hsl.saturation = saturation;\n    }\n\n\n    /**\n     * set the current lightness\n     * @param lightness\n     */\n    setLightness(lightness: number)\n    {\n        this.hsl.lightness = lightness;\n    }\n\n\n    /**\n     * set the current rgb colour\n     */\n    setRgb(rgb: IRGB | string)\n    {\n        // if (isRgbString(rgb))\n        // {\n        //\n        // }\n    }\n\n\n    /**\n     * combine H, S and L into a single colour\n     */\n    getHsl() : IHSL\n    {\n        return this.hsl;\n    }\n\n\n    /**\n     * combine H, S and L into a single colour\n     */\n    getRgb() : IRGB\n    {\n        return hslToRgb(this.hsl.hue, this.hsl.saturation, this.hsl.lightness);\n    }\n\n\n    /**\n     * get the current rgb colour as a string, eg #330034\n     * @returns {null}\n     */\n    getHexString(): string\n    {\n        return rgbToHex(this.getRgb());\n    }\n\n\n    /**\n     * set the current colour by hex string\n     * @returns {null}\n     */\n    setHexString(hex: string)\n    {\n        var hsl: IHSL;\n\n        //  convert hex string to HSL\n\n        this.hsl = rgbToHsl( hexToRgb(hex));\n\n        //  dispatch a colour update event\n\n        App.events.updateColour.dispatch();\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/colour/ColourPalette.ts\n **/","//  described here https://github.com/d3/d3-color/blob/master/src/color.js\n\n\nimport {IRGB} from \"picky\";\n\n/**\n * convert an HSL colour to an RGB numeric array;\n * h, s and l should all be between 0-1\n * \n * code filched from here:\n * https://github.com/mjackson/mjijackson.github.com/blob/master/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript.txt\n * @param h\n * @param s\n * @param l\n * @returns {number[]}\n */\nexport function hslToRgb(h: number, s: number, l: number) : IRGB\n{\n    var r: number,\n        g: number,\n        b: number;\n\n    //  check the saturation\n\n    if (s === 0)\n    {\n        //  if it's zero then the colour is a shade of grey,\n        //  and r, g and b will be equal to the lightness/luminance\n\n        r = g = b = l;\n    }\n    else\n    {\n        var q: number,\n            p: number;\n\n        //  magic numbers make pretty colours\n\n        q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        p = 2 * l - q;\n\n        r = hueToRgb(p, q, h + 1/3);\n        g = hueToRgb(p, q, h);\n        b = hueToRgb(p, q, h - 1/3);\n    }\n\n    //  multiply colours by 255 and round\n\n    r = Math.round(r * 255);\n    g = Math.round(g * 255);\n    b = Math.round(b * 255);\n\n    //  return colours as an RGB object\n\n    return { r: r, g: g, b: b };\n}\n\n\n/**\n * convert a hue to rgb\n * @param p\n * @param q\n * @param t\n * @returns {number}\n */\nfunction hueToRgb(p: number, q: number, t: number) : number\n{\n    if(t < 0) t += 1;\n    if(t > 1) t -= 1;\n    if(t < 1/6) return p + (q - p) * 6 * t;\n    if(t < 1/2) return q;\n    if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n\n    return p;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/colour/HslToRgb.ts\n **/","import {IRGB} from \"picky\";\nimport {prefixString} from \"../string/StringUtils\";\nimport {dehashString} from \"./Validator\";\n\n\n/**\n * convert an RGB object to a hex string;\n * snippet from here: http://stackoverflow.com/a/5624139\n * @param rgb\n */\nexport function rgbToHex(rgb: IRGB) : string\n{\n    var hex: string;\n    \n    //  convert RGB to hex\n    \n    hex = ((1 << 24) + (rgb.r << 16) + (rgb.g << 8) + rgb.b).toString(16).slice(1); \n    \n    //  add hash and return the string\n    \n    return '#' + hex;\n}\n\n\n\n/**\n * convert a hex string into an RGB object;\n * taken from here: http://stackoverflow.com/a/11508164\n * @param hex\n */\nexport function hexToRgb(hex: string) : IRGB\n{\n    var bigint: number,\n        r: number,\n        g: number,\n        b: number;\n    \n    //  expand a shorthand hex code if required\n\n    hex = dehashString(expandShortHexCode(hex));\n\n    //  parse the hex string into R/G/B values\n    \n    bigint = parseInt(hex, 16);\n    r = (bigint >> 16) & 255;\n    g = (bigint >> 8) & 255;\n    b = bigint & 255;\n\n    //  return RGB object\n    \n    return { r: r, g: g, b: b };\n}\n\n\n/**\n * expand a shorthand hex colour (eg #fff)\n * into a full six-figure one;\n * code from here: http://stackoverflow.com/a/5624139\n * @param hex\n */\nexport function expandShortHexCode(hex: string) : string\n{\n    var regexp: RegExp;\n\n    //  create reg exp\n\n    regexp = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n\n    //  run hex code through reg exp and return\n\n    return hex.replace(regexp, function(m, r, g, b)\n    {\n        return r + r + g + g + b + b;\n    });\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/colour/RgbToString.ts\n **/","/**\n * check that a hex string has a hash at the start\n * @param hex\n * @returns {string}\n */\nexport function hashString(hex: string) : string\n{\n    var characters: string[];\n\n    //  check the first character;\n    //  if it's a hash return the string unchanged\n\n    if (isHashed(hex)) return hex;\n\n    //  split string into characters\n\n    characters = hex.split('');\n\n    //  add a hash to the start of the string\n\n    characters.unshift('#');\n\n    //  then recompile and return the string\n\n    return characters.join('');\n}\n\n\n/**\n * remove hash from the start of a hex string\n * @param hex\n */\nexport function dehashString(hex: string) : string\n{\n    var characters: string[];\n\n    //  check the first character;\n    //  if it's a NOT a hash return the string unchanged\n\n    if (isHashed(hex) === false) return hex;\n\n    //  split string into characters\n\n    characters = hex.split('');\n\n    //  if it's not a hash then add one\n\n    characters.shift();\n\n    //  then recompile and return the string\n\n    return characters.join('');\n}\n\n\n/**\n * check whether a hex string has a hash at the start\n * @param hex\n * @returns {boolean}\n */\nfunction isHashed(hex: string) : boolean\n{\n    var characters: string[];\n\n    //  split string into characters\n\n    characters = hex.split('');\n\n    //  check the first character;\n    //  is it a hash?\n\n    return characters[0] === '#';\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/colour/Validator.ts\n **/","import {IHSL} from \"picky\";\nimport {IRGB} from \"picky\";\n\n/**\n * Converts an RGB color value to HSL. Conversion formula\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n * Assumes r, g, and b are contained in the set [0, 255] and\n * returns h, s, and l in the set [0, 1].\n * \n * taken from: https://github.com/mjackson/mjijackson.github.com/blob/master/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript.txt\n *\n * @param   {number}  r       The red color value\n * @param   {number}  g       The green color value\n * @param   {number}  b       The blue color value\n * @return  {Array}           The HSL representation\n */\nexport function rgbToHsl(rgb: IRGB) : IHSL\n{\n    var max: number,\n        min: number,\n        r: number,\n        g: number,\n        b: number,\n        h: number,\n        s: number,\n        l: number,\n        d: number;\n\n    //  convert values to between 0-1\n\n    r = rgb.r / 255;\n    g = rgb.g / 255;\n    b = rgb.b / 255;\n\n    // *waves hands*\n\n    max = Math.max(r, g, b);\n    min = Math.min(r, g, b);\n    h = s = l = (max + min) / 2;\n\n    if (max == min)\n    {\n        h = s = 0; // achromatic\n    }\n    else\n    {\n        d = max - min;\n\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n        switch(max)\n        {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { hue: h, saturation: s, lightness: l };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/utils/colour/RgbToHsl.ts\n **/","import {IOptions} from \"picky\";\nimport * as signals from 'signals';\n\nexport class Events\n{\n    updateColour: Signal;\n\n    constructor(private iid: string, private options: IOptions)\n    {\n        \n    }\n\n\n    /**\n     * set up our signals;\n     * these allow internal and external communication\n     */\n    setup()\n    {\n        this.updateColour = new signals.Signal();\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ts/events/Events.ts\n **/","/*jslint onevar:true, undef:true, newcap:true, regexp:true, bitwise:true, maxerr:50, indent:4, white:false, nomen:false, plusplus:false */\n/*global define:false, require:false, exports:false, module:false, signals:false */\n\n/** @license\n * JS Signals <http://millermedeiros.github.com/js-signals/>\n * Released under the MIT license\n * Author: Miller Medeiros\n * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)\n */\n\n(function(global){\n\n    // SignalBinding -------------------------------------------------\n    //================================================================\n\n    /**\n     * Object that represents a binding between a Signal and a listener function.\n     * <br />- <strong>This is an internal constructor and shouldn't be called by regular users.</strong>\n     * <br />- inspired by Joa Ebert AS3 SignalBinding and Robert Penner's Slot classes.\n     * @author Miller Medeiros\n     * @constructor\n     * @internal\n     * @name SignalBinding\n     * @param {Signal} signal Reference to Signal object that listener is currently bound to.\n     * @param {Function} listener Handler function bound to the signal.\n     * @param {boolean} isOnce If binding should be executed just once.\n     * @param {Object} [listenerContext] Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n     * @param {Number} [priority] The priority level of the event listener. (default = 0).\n     */\n    function SignalBinding(signal, listener, isOnce, listenerContext, priority) {\n\n        /**\n         * Handler function bound to the signal.\n         * @type Function\n         * @private\n         */\n        this._listener = listener;\n\n        /**\n         * If binding should be executed just once.\n         * @type boolean\n         * @private\n         */\n        this._isOnce = isOnce;\n\n        /**\n         * Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n         * @memberOf SignalBinding.prototype\n         * @name context\n         * @type Object|undefined|null\n         */\n        this.context = listenerContext;\n\n        /**\n         * Reference to Signal object that listener is currently bound to.\n         * @type Signal\n         * @private\n         */\n        this._signal = signal;\n\n        /**\n         * Listener priority\n         * @type Number\n         * @private\n         */\n        this._priority = priority || 0;\n    }\n\n    SignalBinding.prototype = {\n\n        /**\n         * If binding is active and should be executed.\n         * @type boolean\n         */\n        active : true,\n\n        /**\n         * Default parameters passed to listener during `Signal.dispatch` and `SignalBinding.execute`. (curried parameters)\n         * @type Array|null\n         */\n        params : null,\n\n        /**\n         * Call listener passing arbitrary parameters.\n         * <p>If binding was added using `Signal.addOnce()` it will be automatically removed from signal dispatch queue, this method is used internally for the signal dispatch.</p>\n         * @param {Array} [paramsArr] Array of parameters that should be passed to the listener\n         * @return {*} Value returned by the listener.\n         */\n        execute : function (paramsArr) {\n            var handlerReturn, params;\n            if (this.active && !!this._listener) {\n                params = this.params? this.params.concat(paramsArr) : paramsArr;\n                handlerReturn = this._listener.apply(this.context, params);\n                if (this._isOnce) {\n                    this.detach();\n                }\n            }\n            return handlerReturn;\n        },\n\n        /**\n         * Detach binding from signal.\n         * - alias to: mySignal.remove(myBinding.getListener());\n         * @return {Function|null} Handler function bound to the signal or `null` if binding was previously detached.\n         */\n        detach : function () {\n            return this.isBound()? this._signal.remove(this._listener, this.context) : null;\n        },\n\n        /**\n         * @return {Boolean} `true` if binding is still bound to the signal and have a listener.\n         */\n        isBound : function () {\n            return (!!this._signal && !!this._listener);\n        },\n\n        /**\n         * @return {boolean} If SignalBinding will only be executed once.\n         */\n        isOnce : function () {\n            return this._isOnce;\n        },\n\n        /**\n         * @return {Function} Handler function bound to the signal.\n         */\n        getListener : function () {\n            return this._listener;\n        },\n\n        /**\n         * @return {Signal} Signal that listener is currently bound to.\n         */\n        getSignal : function () {\n            return this._signal;\n        },\n\n        /**\n         * Delete instance properties\n         * @private\n         */\n        _destroy : function () {\n            delete this._signal;\n            delete this._listener;\n            delete this.context;\n        },\n\n        /**\n         * @return {string} String representation of the object.\n         */\n        toString : function () {\n            return '[SignalBinding isOnce:' + this._isOnce +', isBound:'+ this.isBound() +', active:' + this.active + ']';\n        }\n\n    };\n\n\n/*global SignalBinding:false*/\n\n    // Signal --------------------------------------------------------\n    //================================================================\n\n    function validateListener(listener, fnName) {\n        if (typeof listener !== 'function') {\n            throw new Error( 'listener is a required param of {fn}() and should be a Function.'.replace('{fn}', fnName) );\n        }\n    }\n\n    /**\n     * Custom event broadcaster\n     * <br />- inspired by Robert Penner's AS3 Signals.\n     * @name Signal\n     * @author Miller Medeiros\n     * @constructor\n     */\n    function Signal() {\n        /**\n         * @type Array.<SignalBinding>\n         * @private\n         */\n        this._bindings = [];\n        this._prevParams = null;\n\n        // enforce dispatch to aways work on same context (#47)\n        var self = this;\n        this.dispatch = function(){\n            Signal.prototype.dispatch.apply(self, arguments);\n        };\n    }\n\n    Signal.prototype = {\n\n        /**\n         * Signals Version Number\n         * @type String\n         * @const\n         */\n        VERSION : '1.0.0',\n\n        /**\n         * If Signal should keep record of previously dispatched parameters and\n         * automatically execute listener during `add()`/`addOnce()` if Signal was\n         * already dispatched before.\n         * @type boolean\n         */\n        memorize : false,\n\n        /**\n         * @type boolean\n         * @private\n         */\n        _shouldPropagate : true,\n\n        /**\n         * If Signal is active and should broadcast events.\n         * <p><strong>IMPORTANT:</strong> Setting this property during a dispatch will only affect the next dispatch, if you want to stop the propagation of a signal use `halt()` instead.</p>\n         * @type boolean\n         */\n        active : true,\n\n        /**\n         * @param {Function} listener\n         * @param {boolean} isOnce\n         * @param {Object} [listenerContext]\n         * @param {Number} [priority]\n         * @return {SignalBinding}\n         * @private\n         */\n        _registerListener : function (listener, isOnce, listenerContext, priority) {\n\n            var prevIndex = this._indexOfListener(listener, listenerContext),\n                binding;\n\n            if (prevIndex !== -1) {\n                binding = this._bindings[prevIndex];\n                if (binding.isOnce() !== isOnce) {\n                    throw new Error('You cannot add'+ (isOnce? '' : 'Once') +'() then add'+ (!isOnce? '' : 'Once') +'() the same listener without removing the relationship first.');\n                }\n            } else {\n                binding = new SignalBinding(this, listener, isOnce, listenerContext, priority);\n                this._addBinding(binding);\n            }\n\n            if(this.memorize && this._prevParams){\n                binding.execute(this._prevParams);\n            }\n\n            return binding;\n        },\n\n        /**\n         * @param {SignalBinding} binding\n         * @private\n         */\n        _addBinding : function (binding) {\n            //simplified insertion sort\n            var n = this._bindings.length;\n            do { --n; } while (this._bindings[n] && binding._priority <= this._bindings[n]._priority);\n            this._bindings.splice(n + 1, 0, binding);\n        },\n\n        /**\n         * @param {Function} listener\n         * @return {number}\n         * @private\n         */\n        _indexOfListener : function (listener, context) {\n            var n = this._bindings.length,\n                cur;\n            while (n--) {\n                cur = this._bindings[n];\n                if (cur._listener === listener && cur.context === context) {\n                    return n;\n                }\n            }\n            return -1;\n        },\n\n        /**\n         * Check if listener was attached to Signal.\n         * @param {Function} listener\n         * @param {Object} [context]\n         * @return {boolean} if Signal has the specified listener.\n         */\n        has : function (listener, context) {\n            return this._indexOfListener(listener, context) !== -1;\n        },\n\n        /**\n         * Add a listener to the signal.\n         * @param {Function} listener Signal handler function.\n         * @param {Object} [listenerContext] Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n         * @param {Number} [priority] The priority level of the event listener. Listeners with higher priority will be executed before listeners with lower priority. Listeners with same priority level will be executed at the same order as they were added. (default = 0)\n         * @return {SignalBinding} An Object representing the binding between the Signal and listener.\n         */\n        add : function (listener, listenerContext, priority) {\n            validateListener(listener, 'add');\n            return this._registerListener(listener, false, listenerContext, priority);\n        },\n\n        /**\n         * Add listener to the signal that should be removed after first execution (will be executed only once).\n         * @param {Function} listener Signal handler function.\n         * @param {Object} [listenerContext] Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n         * @param {Number} [priority] The priority level of the event listener. Listeners with higher priority will be executed before listeners with lower priority. Listeners with same priority level will be executed at the same order as they were added. (default = 0)\n         * @return {SignalBinding} An Object representing the binding between the Signal and listener.\n         */\n        addOnce : function (listener, listenerContext, priority) {\n            validateListener(listener, 'addOnce');\n            return this._registerListener(listener, true, listenerContext, priority);\n        },\n\n        /**\n         * Remove a single listener from the dispatch queue.\n         * @param {Function} listener Handler function that should be removed.\n         * @param {Object} [context] Execution context (since you can add the same handler multiple times if executing in a different context).\n         * @return {Function} Listener handler function.\n         */\n        remove : function (listener, context) {\n            validateListener(listener, 'remove');\n\n            var i = this._indexOfListener(listener, context);\n            if (i !== -1) {\n                this._bindings[i]._destroy(); //no reason to a SignalBinding exist if it isn't attached to a signal\n                this._bindings.splice(i, 1);\n            }\n            return listener;\n        },\n\n        /**\n         * Remove all listeners from the Signal.\n         */\n        removeAll : function () {\n            var n = this._bindings.length;\n            while (n--) {\n                this._bindings[n]._destroy();\n            }\n            this._bindings.length = 0;\n        },\n\n        /**\n         * @return {number} Number of listeners attached to the Signal.\n         */\n        getNumListeners : function () {\n            return this._bindings.length;\n        },\n\n        /**\n         * Stop propagation of the event, blocking the dispatch to next listeners on the queue.\n         * <p><strong>IMPORTANT:</strong> should be called only during signal dispatch, calling it before/after dispatch won't affect signal broadcast.</p>\n         * @see Signal.prototype.disable\n         */\n        halt : function () {\n            this._shouldPropagate = false;\n        },\n\n        /**\n         * Dispatch/Broadcast Signal to all listeners added to the queue.\n         * @param {...*} [params] Parameters that should be passed to each handler.\n         */\n        dispatch : function (params) {\n            if (! this.active) {\n                return;\n            }\n\n            var paramsArr = Array.prototype.slice.call(arguments),\n                n = this._bindings.length,\n                bindings;\n\n            if (this.memorize) {\n                this._prevParams = paramsArr;\n            }\n\n            if (! n) {\n                //should come after memorize\n                return;\n            }\n\n            bindings = this._bindings.slice(); //clone array in case add/remove items during dispatch\n            this._shouldPropagate = true; //in case `halt` was called before dispatch or during the previous dispatch.\n\n            //execute all callbacks until end of the list or until a callback returns `false` or stops propagation\n            //reverse loop since listeners with higher priority will be added at the end of the list\n            do { n--; } while (bindings[n] && this._shouldPropagate && bindings[n].execute(paramsArr) !== false);\n        },\n\n        /**\n         * Forget memorized arguments.\n         * @see Signal.memorize\n         */\n        forget : function(){\n            this._prevParams = null;\n        },\n\n        /**\n         * Remove all bindings from signal and destroy any reference to external objects (destroy Signal object).\n         * <p><strong>IMPORTANT:</strong> calling any method on the signal instance after calling dispose will throw errors.</p>\n         */\n        dispose : function () {\n            this.removeAll();\n            delete this._bindings;\n            delete this._prevParams;\n        },\n\n        /**\n         * @return {string} String representation of the object.\n         */\n        toString : function () {\n            return '[Signal active:'+ this.active +' numListeners:'+ this.getNumListeners() +']';\n        }\n\n    };\n\n\n    // Namespace -----------------------------------------------------\n    //================================================================\n\n    /**\n     * Signals namespace\n     * @namespace\n     * @name signals\n     */\n    var signals = Signal;\n\n    /**\n     * Custom event broadcaster\n     * @see Signal\n     */\n    // alias for backwards compatibility (see #gh-44)\n    signals.Signal = Signal;\n\n\n\n    //exports to multiple environments\n    if(typeof define === 'function' && define.amd){ //AMD\n        define(function () { return signals; });\n    } else if (typeof module !== 'undefined' && module.exports){ //node\n        module.exports = signals;\n    } else { //browser\n        //use string because of Google closure compiler ADVANCED_MODE\n        /*jslint sub:true */\n        global['signals'] = signals;\n    }\n\n}(this));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/signals/dist/signals.js\n ** module id = 30\n ** module chunks = 0\n **/"],"sourceRoot":""}